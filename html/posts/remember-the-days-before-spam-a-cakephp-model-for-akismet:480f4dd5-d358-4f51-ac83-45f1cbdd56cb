<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> 
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
	<title>Remember the days before spam? A CakePHP Model for Akismet   &raquo; Debuggable - Node.js Consulting</title>

	<link href="http://feeds.feedburner.com/debuggable" type="application/rss+xml" rel="alternate" title="RSS 2.0" />	<link rel="pingback" href="Debuggable.com/pingback" />
	<link rel="stylesheet" type="text/css" href="/css/aggregate/58a4727fb2207154ddd0739cbc3b15104ad6cd03/4026ee2275e22a4e5ec8aea13747c557.php" /></head>
	<body>
		<div class="container_16">
			<h1 id="logo-text"><a href="/">debuggable</a></h1>
			<ul id="navigation">
				<ul>
<li class=""><a href="/blog">Blog</a></li><li class="active"><a href="/">About</a></li></ul>			</ul>
			<div class="clear">&nbsp;</div>

			<div id="blueprint">
				<a href="/contact" class="contact">Contact Us</a>			</div>

			<div class="clear">&nbsp;</div>
			<div class="grid_11 alpha" id="content">
	<cake:nocache>
			<div class="messages empty"></div>
	</cake:nocache>
	<div class="post">
	<h2><a href="/posts/remember-the-days-before-spam-a-cakephp-model-for-akismet:480f4dd5-d358-4f51-ac83-45f1cbdd56cb">Remember the days before spam? A CakePHP Model for Akismet  </a></h2>	<div class="posted-on">
		<p>Posted on 5/7/06 by 
		<a href="/felix">Felix Geisendörfer</a>				</p>
		<div class="thumb">
			<img alt="" src="/img/felix_thumb.jpg"/>		</div>
	</div>
	<div class="body">
		<div class="deprecated-post">
	<h3>Deprecated post</h3>
	<p>
		The authors of this post have marked it as deprecated. This means the information displayed is most likely
		<strong>outdated, inaccurate, boring</strong> or a combination of all three.
	</p>
	<p><strong>Policy:</strong> We never delete deprecated posts, but they are not listed in our categories or show up in the search anymore.</p>
	<p>
		<strong>Comments:</strong> You can continue to leave comments on this post, but please consult
		<a href="http://www.google.com">Google</a> or <a href="/posts/search/conditions:posts">our search</a>		first if you want to get an answer ; ).
	</p>
</div>		<p><strong>Note:</strong> I did a little <a href="http://thinkingphp.org/akismet/">Online Demo</a> for the stuff explained below, you might want to <a href="http://thinkingphp.org/akismet/">check it out</a>.</p>
<p><em>"Remember the days before spam"</em>, that's what it reads when you vist <a href="http://akismet.com/">akismet.com</a>, and I have to admit, no, I don't remember them ; ). Spam has been an issue for me ever since I got my first email adress. But nowdays spam scripts not only spam standardized applications like wordpress, no, they also try to figure out how to spam your personal contact/guesbook/whatever forms and are pretty good at it.</p>
<p>Here on ThinkingPHP.org, I get about 40~100 spam comments every day, tendency increasing. So at some point the manual deletion and blacklist filters didn't cut it any longer. Gladly, Daniel Hofstetter (<a href="http://cakebaker.wordpress.com/">Cake Baker</a>) pointed me to a wonderful wordpress plugin called Akismet, which also is a service, dedicated to eliminate spam.</p>
<p>So far I've been really impressed with it. The plugin/service already filtered out 4149 spam comments for me, with no false-positives in them. Only 2 comments made it through their filters. That's a 99,95% accuracy. Truly Amazing! But now here is the best thing, their API is open to the public, and everybody can get a free key over at wordpress.com. However, if you are working on a commercial application you should checkout their restrictions / prices regarding the <a href="http://akismet.com/commercial/">Commercial Use of API Keys</a>.</p>
<p>Today I finally found the time to get around to write a CakePHP Web Model for their service. It bases on my <a href="http://cakeforge.org/snippet/download.php?type=snippet&id=133">Web Model class</a> from the <a href="http://cakeforge.org/snippet/detail.php?type=package&id=18">Web Model package</a> I'm maintaining. Integration and usage are as simple as it get's. You just download the <a href="http://cakeforge.org/snippet/download.php?type=snippet&id=133">Web Model</a>, put it in /app/web_model.php and then download the <a href="http://cakeforge.org/snippet/download.php?type=snippet&id=163">Akismet Mode</a>l and put it in /app/models/akismet.php.</p>
<p>Now that you have done this, checking a comment for spam is as easy as this:</p>
<div class="clear"></div>
<div class="code debuggable_sh_php" style="white-space: wrap;white-space: nowrap;">
<span class="kw2">class</span> AkismetTestController <span class="kw2">extends</span> AppController <br />
<span class="br0">&#123;</span><br />
&nbsp; &nbsp; <span class="kw2">var</span> <span class="re0">$name</span> = <span class="st0">'AkismetTest'</span>;<br />
&nbsp; &nbsp; <span class="kw2">var</span> <span class="re0">$uses</span> = <a href="http://www.php.net/array"><span class="kw3">array</span></a><span class="br0">&#40;</span><span class="st0">'Akismet'</span><span class="br0">&#41;</span>;<br />
&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; <span class="kw2">function</span> beforeFilter<span class="br0">&#40;</span><span class="br0">&#41;</span><br />
&nbsp; &nbsp; <span class="br0">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span class="re0">$this</span>-&gt;<span class="me1">Akismet</span>-&gt;<span class="me1">apiKey</span> = <span class="st0">'your-api-key'</span>;<br />
&nbsp; &nbsp; <span class="br0">&#125;</span><br />
&nbsp; &nbsp; <br />
&nbsp; &nbsp; <span class="kw2">function</span> index<span class="br0">&#40;</span><span class="br0">&#41;</span><br />
&nbsp; &nbsp; <span class="br0">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span class="re0">$comment</span> = <a href="http://www.php.net/array"><span class="kw3">array</span></a><span class="br0">&#40;</span><span class="st0">'comment_author'</span> &nbsp; &nbsp; &nbsp; =&gt; <span class="st0">'Spammer Bob'</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="st0">'comment_author_email'</span> =&gt; <span class="st0">'i-spam@mcirosoft.com'</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="st0">'comment_author'</span> &nbsp; &nbsp; &nbsp; =&gt; <span class="st0">'Viagra rocks, dude!'</span><span class="br0">&#41;</span>;<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span class="re0">$result</span> = <span class="re0">$this</span>-&gt;<span class="me1">Akismet</span>-&gt;<span class="me1">checkComment</span><span class="br0">&#40;</span><span class="re0">$comment</span><span class="br0">&#41;</span>;<br />
&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; debug<span class="br0">&#40;</span><span class="re0">$result</span><span class="br0">&#41;</span>;<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span class="co1">// If the comment is Spam, $result == 'true', if not</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span class="co1">// $result == 'false'.</span><br />
&nbsp; &nbsp; <span class="br0">&#125;</span><br />
<span class="br0">&#125;</span></div>
<p>For a complete list of $comment options, see: <a href="http://akismet.com/development/api/#comment-check">http://akismet.com/development/api/#comment-check</a>.</p>
<p>The Model also allows you to manually mark comments as spam and to report false positives. Just take a <a href="http://cakeforge.org/snippet/download.php?type=snippet&id=163">look at the code </a>, it's pretty self explanatory I hope. </p>
<p>So, I'd be happy to get some feedback from those people who struggle(d) with spam on their (cakephp) sites like I did. Good Luck  in the war against spam ; )!</p>
<p>--Felix Geisendörfer aka the_undefined<br />
<img style="display: none;" src="http://debuggable.com/posts/tick/480f4dd5-d358-4f51-ac83-45f1cbdd56cb"></p>
	</div>
	<div class="clear">&nbsp;</div>
	<div class="social">
	<p class="subscribe">Did you like this blog post? If so, please consider <a href="http://feeds.feedburner.com/debuggable">subscribing to the Blog RSS feed</a>.</p>

	<ul>
	<li class="sociablefirst">
				<a class="linkedin" title="LinkedIn" href="javascript:window.location='http://www.linkedin.com/shareArticle?mini=true&amp;url=http%3A%2F%2Fdebuggable.com%2Fposts%2Fremember-the-days-before-spam-a-cakephp-model-for-akismet%3A480f4dd5-d358-4f51-ac83-45f1cbdd56cb &amp;title=Remember+the+days+before+spam%3F+A+CakePHP+Model+for+Akismet++';" rel="nofollow">
			<img class="sociable-hovers" alt="Linked In" title="Linked In" src="/img/social_icons/linkedin.png"/>
		</a>
	</li>
	<li>
		<a class="sphinn" title="Sphinn" href="javascript:window.location='http://sphinn.com/index.php?c=post&amp;m=submit&amp;link=http%3A%2F%2Fdebuggable.com%2Fposts%2Fremember-the-days-before-spam-a-cakephp-model-for-akismet%3A480f4dd5-d358-4f51-ac83-45f1cbdd56cb';" rel="nofollow">
		<img class="sociable-hovers" alt="Sphinn" title="Sphinn" src="/img/social_icons/sphinn.png"/>
		</a>
	</li>
	<li>
		<a class="digg" title="Digg" href="javascript:window.location='http://digg.com/submit?url=http%3A%2F%2Fdebuggable.com%2Fposts%2Fremember-the-days-before-spam-a-cakephp-model-for-akismet%3A480f4dd5-d358-4f51-ac83-45f1cbdd56cb&amp;title=Remember+the+days+before+spam%3F+A+CakePHP+Model+for+Akismet++&amp;bodytext=+..&amp;media=News&amp;topic=Programming';" rel="nofollow">
		<img class="sociable-hovers" alt="Digg" title="Digg" src="/img/social_icons/digg.png"/>
		</a>
	</li>
	<li>
	<a class="del.icio.us" title="del.icio.us" href="javascript:window.location='http://delicious.com/post?url=http%3A%2F%2Fdebuggable.com%2Fposts%2Fremember-the-days-before-spam-a-cakephp-model-for-akismet%3A480f4dd5-d358-4f51-ac83-45f1cbdd56cb&amp;title=Remember+the+days+before+spam%3F+A+CakePHP+Model+for+Akismet++';" rel="nofollow">
		<img class="sociable-hovers" alt="Delicious" title="Delicious" src="/img/social_icons/delicious.png"/>
	</a>
	</li>
	<li class="sociablelast">
		<a class="stumbleupon" title="StumbleUpon" href="javascript:window.location='http://www.stumbleupon.com/submit?url=http%253A%252F%252Fyoast.com%252F40-wordpress-optimisation-tips%252F&amp;title=40%2520WordPress%2520Optimisation%2520tips';" rel="nofollow">
		<img class="sociable-hovers" alt="StumbleUpon" title="StumbleUpon" src="/img/social_icons/stumbleupon.png"/>
		</a>
	</li>
	</ul>
</div>
	<div class="related-posts">
		<h3>(Theoretically) Related Posts</h3>
				<ul class="first">
							<li><a href="/posts/job-interested-in-working-on-a-huge-cakephp-project:480f4dd6-55b4-43ae-9e63-491dcbdd56cb">[Job] Interested in working on a huge CakePHP project?</a></li>
							<li><a href="/posts/spam-passes-akismet-filters:480f4dd5-e1fc-4d5a-ab24-4cd6cbdd56cb">Spam passes Akismet filters</a></li>
							<li><a href="/posts/google-analytics-php-api-cakephp-model:480f4dd5-b2a4-452a-b4ed-4f3fcbdd56cb">Google Analytics PHP Api (CakePHP Model)</a></li>
							<li><a href="/posts/wildflower-a-cakephp-cms:48d7a0d6-ce78-4a2a-bf48-262a4834cda3">Wildflower, a CakePHP CMS</a></li>
							<li><a href="/posts/cakephp-conference-in-chile:49482d41-58a8-46b6-a35b-6f614834cda3">CakePHP conference in Chile</a></li>
					</ul>
		<ul>
							<li><a href="/posts/cakephp-argentina:4937042e-4864-48e1-98f0-6d3d4834cda3">CakePHP Argentina</a></li>
							<li><a href="/posts/extra-hot-cakephp-1.2-stable-is-finally-released!:4954151c-f87c-434b-abbd-4e404834cda3">Extra Hot: CakePHP 1.2 Stable is finally released!</a></li>
							<li><a href="/posts/command-line-fun-in-cakephp-12:480f4dd6-7ecc-41d1-83bb-43d2cbdd56cb">Command line fun in CakePHP 1.2</a></li>
							<li><a href="/posts/modelsave-now-returns-an-array:480f4dd6-0a7c-4026-ad5a-49c8cbdd56cb">Model::save() now returns an array!</a></li>
							<li><a href="/posts/how-to-do-group-by-conditions-in-model-find()-calls:483fdc1c-8454-4593-a55e-37244834cda3">How to do Group By conditions in Model find() calls in the CakePHP RC1</a></li>
					</ul>
	</div>
	<div class="clear">&nsbp;</div>

			<p>You can <a href="#comment_form">skip to the end</a> and add a comment.</p>
	
	<div class="post-footer">
		<img src="/css/img/comments.png" alt="Comments"> <a href="/posts/remember-the-days-before-spam-a-cakephp-model-for-akismet:480f4dd5-d358-4f51-ac83-45f1cbdd56cb">22 Comments</a> &nbsp; | &nbsp; 
		<img src="/css/img/add_comment.png" alt="Add Comment"> <a href="/posts/remember-the-days-before-spam-a-cakephp-model-for-akismet:480f4dd5-d358-4f51-ac83-45f1cbdd56cb#CommentAddForm">Add Comment</a>	</div>
	<div class="post_comments">
	<div class="clear"></div>
									<div id="comment-480f4dd9-e0a4-4c77-ac8a-4649cbdd56cb" class="blogcomment">
				<span class="author">
					<a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=fd24ab9b18c0a2aa04d70ab266eb57ae&size=31&rating=R&d=identicon" alt="" /></a>					<div>
						<strong class="author-name">
							RosSoft&nbsp;						</strong>
						<strong>said 
						on Jul 06, 2006:</strong>
					</div>
				</span>
				<div class="clear"></div>
				<div class="body">
					<p>great model</p>
				</div>
				<div class="clear"></div>
							</div>
	  						<div id="comment-480f4dd9-d2ec-43ec-9d3a-48f5cbdd56cb" class="blogcomment">
				<span class="author">
					<a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=f4112f3023c643bf2f7b32c9c5dcfcba&size=31&rating=R&d=identicon" alt="" /></a>					<div>
						<strong class="author-name">
							<a href="http://cakebaker.wordpress.com" rel="nofollow">Daniel Hofstetter</a>						</strong>
						<strong>said 
						on Jul 06, 2006:</strong>
					</div>
				</span>
				<div class="clear"></div>
				<div class="body">
					<p>Really nice idea :)</p>
<p>Btw: The first two links do not work.</p>
				</div>
				<div class="clear"></div>
							</div>
	  						<div id="comment-480f4dd9-bc48-4ef8-aaca-4a9acbdd56cb" class="blogcomment">
				<span class="author">
					<a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=913676ade654d201c72300fa2345843b&size=31&rating=R&d=identicon" alt="" /></a>					<div>
						<strong class="author-name">
							<a href="http://klunejko.net" rel="nofollow">Konrad</a>						</strong>
						<strong>said 
						on Jul 06, 2006:</strong>
					</div>
				</span>
				<div class="clear"></div>
				<div class="body">
					<p>Thanks,</p>
<p>I was going to "port" this to Cake is ones I got some free time on my hands, but I guess this isn't necessary any more! :)</p>
				</div>
				<div class="clear"></div>
							</div>
	  						<div id="comment-480f4dd9-394c-41f8-b4df-4156cbdd56cb" class="blogcomment admin">
				<span class="author">
					<a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=23968f0ca75b13463d2db5343e5c2096&size=31&rating=R&d=identicon" alt="" /></a>					<div>
						<strong class="author-name">
							<a href="http://www.debuggable.com/felix" rel="nofollow">Felix Geisendörfer</a>						</strong>
						<strong>said 
						on Jul 06, 2006:</strong>
					</div>
				</span>
				<div class="clear"></div>
				<div class="body">
					<p>Hi Daniel, yeah cakephp is a hostname I define locally, so it's not surprising it doesn't work for anybody but me ^^. Anyway, I've corrected the links and set them to the online version, thanks for pointing it out.</p>
<p>And thanks for nice comments. I'd be interested to hear how it works out for you if you use it at some point.</p>
				</div>
				<div class="clear"></div>
							</div>
	  						<div id="comment-480f4dd9-2ba4-4449-a09a-4672cbdd56cb" class="blogcomment">
				<span class="author">
					<a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=d41d8cd98f00b204e9800998ecf8427e&size=31&rating=R&d=identicon" alt="" /></a>					<div>
						<strong class="author-name">
							<a href="http://richardathome.wordpress.com/2006/07/07/links-for-2006-07-07/" rel="nofollow">Richard@Home &raquo; Blog Archive &raquo; links for 2006-07-07</a>						</strong>
						<strong>said 
						on Jul 07, 2006:</strong>
					</div>
				</span>
				<div class="clear"></div>
				<div class="body">
					<p>[...] ThinkingPHP » Remember the days before spam? A CakePHP Model for Akismet Felix Geisendörfer has implemented an Askimset spam filter helper for CakePHP (tags: cakephp spam helper) [...]</p>
				</div>
				<div class="clear"></div>
							</div>
	  						<div id="comment-480f4dd9-ff90-4122-9d5e-4b9fcbdd56cb" class="blogcomment">
				<span class="author">
					<a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=f0b8fa14cbee5edfdeeac6b8f9ad062d&size=31&rating=R&d=identicon" alt="" /></a>					<div>
						<strong class="author-name">
							<a href="http://tariquesani.net/" rel="nofollow">Tarique Sani</a>						</strong>
						<strong>said 
						on Jul 09, 2006:</strong>
					</div>
				</span>
				<div class="clear"></div>
				<div class="body">
					<p>Wouldn't Akismet be better implemented as a component? Also it need not depend on the web model which in turn depends on curl extension</p>
<p>Writing a private method for doing an http post using sockets specifically for akismet would be trivial and make the component self contained....</p>
<p>Here is the code for a similar function I wrote for some other software</p>
<p>function pp_http_post($request, $host, $path, $port = 80) {<br />
  global $pp_user_agent;</br></p>
<p>  $http_request  = "POST $path HTTP/1.0\r\n";<br />
  $http_request .= "Host: $host\r\n";</br><br />
  $http_request .= "Content-Type: application/x-www-form-urlencoded; charset=utf-8\r\n";</br><br />
  $http_request .= "Content-Length: " . strlen($request) . "\r\n";</br><br />
  $http_request .= "User-Agent: {$pp_user_agent}\r\n";</br><br />
  $http_request .= "\r\n";</br><br />
  $http_request .= $request;</br></p>
<p>  $response = '';</p>
<p>  if( false !== ( $fs = fsockopen($host, $port, $errno, $errstr, 30) ) ) {<br />
    fwrite($fs, $http_request);</br></p>
<p>    while ( !feof($fs) )<br />
      $response .= fgets($fs, 1160); // One TCP-IP packet</br><br />
    fclose($fs);</br><br />
    $response = explode("\r\n\r\n", $response, 2);</br><br />
  }</br></p>
<p>  return $response;<br />
}</br></p>
<p>This in turn has been adapted from the code in word press</p>
				</div>
				<div class="clear"></div>
							</div>
	  						<div id="comment-480f4dd9-24b0-41e6-b324-4f51cbdd56cb" class="blogcomment admin">
				<span class="author">
					<a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=23968f0ca75b13463d2db5343e5c2096&size=31&rating=R&d=identicon" alt="" /></a>					<div>
						<strong class="author-name">
							<a href="http://www.debuggable.com/felix" rel="nofollow">Felix Geisendörfer</a>						</strong>
						<strong>said 
						on Jul 09, 2006:</strong>
					</div>
				</span>
				<div class="clear"></div>
				<div class="body">
					<p>Tarique, I think every data exchange, be it [database]< -><br />
<div class="clear"></div>
<div class="code debuggable_sh_php" style="white-space: wrap;white-space: nowrap;">
or <span class="br0">&#91;</span>web service<span class="br0">&#93;</span>&lt;-&gt;<span class="br0">&#91;</span>php<span class="br0">&#93;</span> should be handled by a Model. Since you submit and recieve data from Akismet, it falls under this category.<br />
</br><br />
The WebModel depends on the curl extension because it is just the most flexible way to perform the things your browser normally does. This covers POST<span class="st0">'s/GET'</span>s/SSL/Cookies/Headers/etc. So far I<span class="st0">'ve not found a comparable php version to this. But, because I know some people might not have curl, I created the WebModel as an abstract base class for all my web model classes. If you don'</span>t like curl, simply replace my WebModel with your own version, and you are done. </br><br />
</br><br />
Since curl works fine <span class="kw1">for</span> my local, and all my production enviornments I didn<span class="st0">'t have the need/time to code a pure php implementation myself, but if you do I'</span>d be glad to <span class="kw1">include</span> your code in the <span class="kw2">class</span>. The only requirement I have, is that all the code can be licensed under an MIT style license, since I like to keep my Open Source projects Free Software <span class="kw1">as</span> well.</br><br />
</br><br />
Oh and regarding self containment: Yes, I like self contained solutions <span class="kw1">as</span> well, since they are easier to implement. But my main focus when publishing things here is reusability, which is definitly given by the WebModel <span class="kw2">class</span> that I<span class="st0">'ve successfully used for several WebModels (RSS, Goggle Analytics &amp; Akismet).</span></br></div>
</br>				</div>
				<div class="clear"></div>
							</div>
	  						<div id="comment-480f4ddc-c3d4-4988-82c7-40a5cbdd56cb" class="blogcomment">
				<span class="author">
					<a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=8f5c82c5eb917c1e1c6eab4534d1cbe4&size=31&rating=R&d=identicon" alt="" /></a>					<div>
						<strong class="author-name">
							Dieter@be&nbsp;						</strong>
						<strong>said 
						on Sep 15, 2006:</strong>
					</div>
				</span>
				<div class="clear"></div>
				<div class="body">
					<p>Odd, the "official" akismet plugin replies true or false.  your model returns true or 1.<br />
so for those that don't know, that means you need to type === true if you want to check if it's spam (the extra = is for type check)</br></p>
<p>Also, i wonder what happens in case of unreachable/unresponding askismet servers? i noticed the use of a timeout variable in your web_model.  is it safe to assume that if there is no response in this time the askismet-checking aborts and the logic continues to process? and in that case, what will be returned?</p>
				</div>
				<div class="clear"></div>
							</div>
	  						<div id="comment-480f4ddc-1b08-457f-90f0-42ddcbdd56cb" class="blogcomment admin">
				<span class="author">
					<a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=23968f0ca75b13463d2db5343e5c2096&size=31&rating=R&d=identicon" alt="" /></a>					<div>
						<strong class="author-name">
							<a href="http://www.debuggable.com/felix" rel="nofollow">Felix Geisendörfer</a>						</strong>
						<strong>said 
						on Sep 15, 2006:</strong>
					</div>
				</span>
				<div class="clear"></div>
				<div class="body">
					<p>Dieter@be: I'll dig into the things you mentioned, and let you know what I found out / if I make changes to the Model itself, ok?</p>
				</div>
				<div class="clear"></div>
							</div>
	  						<div id="comment-480f4ddc-3c60-46d5-9c09-48c4cbdd56cb" class="blogcomment">
				<span class="author">
					<a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=8f5c82c5eb917c1e1c6eab4534d1cbe4&size=31&rating=R&d=identicon" alt="" /></a>					<div>
						<strong class="author-name">
							Dieter@be&nbsp;						</strong>
						<strong>said 
						on Sep 16, 2006:</strong>
					</div>
				</span>
				<div class="clear"></div>
				<div class="body">
					<p>Offcourse that's okay :-)</p>
				</div>
				<div class="clear"></div>
							</div>
	  						<div id="comment-480f4ddc-3260-4c97-a834-4a8fcbdd56cb" class="blogcomment">
				<span class="author">
					<a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=8f5c82c5eb917c1e1c6eab4534d1cbe4&size=31&rating=R&d=identicon" alt="" /></a>					<div>
						<strong class="author-name">
							Dieter@be&nbsp;						</strong>
						<strong>said 
						on Sep 18, 2006:</strong>
					</div>
				</span>
				<div class="clear"></div>
				<div class="body">
					<p>Okay what i said wasn't 100% correct.<br />
After some testing i found out that what is really returned is this:</br><br />
'true' (the string, not the boolean), when the hit is true</br><br />
true (the boolean) when the hit is false</br></p>
<p>i thought earlier that 1 was also an option but i was mislead cause 1 is what you see when you echo(true);</p>
<p>so to be really sure about the result, this is how i check:<br />
if($is_spam === 'true') echo 'spam';</br><br />
if($is_spam === true) echo 'not spam';</br></p>
<p>Still i would love to hear more from you felix, especially about the question what will happen in the case of the unreachable/unresponding askismet server :)</p>
<p>Dieter</p>
				</div>
				<div class="clear"></div>
							</div>
	  						<div id="comment-480f4ddd-bab4-4c8d-b181-4b93cbdd56cb" class="blogcomment admin">
				<span class="author">
					<a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=23968f0ca75b13463d2db5343e5c2096&size=31&rating=R&d=identicon" alt="" /></a>					<div>
						<strong class="author-name">
							<a href="http://www.debuggable.com/felix" rel="nofollow">Felix Geisendörfer</a>						</strong>
						<strong>said 
						on Sep 19, 2006:</strong>
					</div>
				</span>
				<div class="clear"></div>
				<div class="body">
					<p>Dieter: That sounds like have written some seriously crabby if statement somewhere in there without noticing it. I'll try to get on it tomorrow. In case the server is unreachable the request will timeout and you should get NULL back, but let me check on this before you use it *g*.</p>
				</div>
				<div class="clear"></div>
							</div>
	  						<div id="comment-480f4dde-4ac0-4966-9208-4ae9cbdd56cb" class="blogcomment admin">
				<span class="author">
					<a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=23968f0ca75b13463d2db5343e5c2096&size=31&rating=R&d=identicon" alt="" /></a>					<div>
						<strong class="author-name">
							<a href="http://www.debuggable.com/felix" rel="nofollow">Felix Geisendörfer</a>						</strong>
						<strong>said 
						on Sep 26, 2006:</strong>
					</div>
				</span>
				<div class="clear"></div>
				<div class="body">
					<p>Dieter: I am fairly busy right now, if you feel like fixing the error (which should be easy), let me know and I'll update the CakeForge snippet with your tweaks. Other then that I'll start working on HttpSources for Cake 1.2 with nate soon, and at some point do a new implementation of Akismet for this as well.</p>
				</div>
				<div class="clear"></div>
							</div>
	  						<div id="comment-480f4de3-a744-4787-a751-4648cbdd56cb" class="blogcomment">
				<span class="author">
					<a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=04b648ae8b17ed1163984084e0f4fc77&size=31&rating=R&d=identicon" alt="" /></a>					<div>
						<strong class="author-name">
							Chris McConkey&nbsp;						</strong>
						<strong>said 
						on Dec 25, 2006:</strong>
					</div>
				</span>
				<div class="clear"></div>
				<div class="body">
					<p>Hey thanks a million!</p>
				</div>
				<div class="clear"></div>
							</div>
	  						<div id="comment-480f4de3-7c70-4536-b192-44b0cbdd56cb" class="blogcomment admin">
				<span class="author">
					<a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=23968f0ca75b13463d2db5343e5c2096&size=31&rating=R&d=identicon" alt="" /></a>					<div>
						<strong class="author-name">
							<a href="http://www.debuggable.com/felix" rel="nofollow">Felix Geisendörfer</a>						</strong>
						<strong>said 
						on Dec 25, 2006:</strong>
					</div>
				</span>
				<div class="clear"></div>
				<div class="body">
					<p>You're welcome ; )</p>
				</div>
				<div class="clear"></div>
							</div>
	  						<div id="comment-480f4de6-8138-4780-aff3-4805cbdd56cb" class="blogcomment">
				<span class="author">
					<a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=ae28569336b29b726d79c8bc30c11698&size=31&rating=R&d=identicon" alt="" /></a>					<div>
						<strong class="author-name">
							<a href="http://myushki.com/cheap/" rel="nofollow">dirtydeedsdonedirtcheap</a>						</strong>
						<strong>said 
						on Feb 22, 2007:</strong>
					</div>
				</span>
				<div class="clear"></div>
				<div class="body">
					<p>cheapticket</p>
				</div>
				<div class="clear"></div>
							</div>
	  						<div id="comment-480f4de7-74c8-42df-92c0-4730cbdd56cb" class="blogcomment">
				<span class="author">
					<a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=d41d8cd98f00b204e9800998ecf8427e&size=31&rating=R&d=identicon" alt="" /></a>					<div>
						<strong class="author-name">
							<a href="http://www.andreagandino.com/it/2007/03/16/quando-il-cms-si-mette-in-proprio/" rel="nofollow">Andrea Gandino &raquo; Blog Archive &raquo; Quando il CMS si met</a>						</strong>
						<strong>said 
						on Mar 16, 2007:</strong>
					</div>
				</span>
				<div class="clear"></div>
				<div class="body">
					<p>[...] Felix Geisendörfer ha infatti realizzato un semplice controller che filtra i commenti inoltrandoli al server di Akismet, e attende la sua risposta per pubblicarli o meno. [...]</p>
				</div>
				<div class="clear"></div>
							</div>
	  						<div id="comment-480f4dea-d148-4093-af7c-45b8cbdd56cb" class="blogcomment">
				<span class="author">
					<a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=d4449cddd771a22a7060842998433c82&size=31&rating=R&d=identicon" alt="" /></a>					<div>
						<strong class="author-name">
							kinto&nbsp;						</strong>
						<strong>said 
						on May 16, 2007:</strong>
					</div>
				</span>
				<div class="clear"></div>
				<div class="body">
					<p>I'm successfully using Akismet through your models and I really really really want to thank you! You saved me...</p>
				</div>
				<div class="clear"></div>
							</div>
	  						<div id="comment-480f4dea-c58c-41a5-be66-4ee6cbdd56cb" class="blogcomment admin">
				<span class="author">
					<a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=23968f0ca75b13463d2db5343e5c2096&size=31&rating=R&d=identicon" alt="" /></a>					<div>
						<strong class="author-name">
							<a href="http://www.debuggable.com/felix" rel="nofollow">Felix Geisendörfer</a>						</strong>
						<strong>said 
						on May 18, 2007:</strong>
					</div>
				</span>
				<div class="clear"></div>
				<div class="body">
					<p>kinto: You are welcome ; ).</p>
				</div>
				<div class="clear"></div>
							</div>
	  						<div id="comment-480f4dea-5ab4-4a00-9487-4a5ecbdd56cb" class="blogcomment">
				<span class="author">
					<a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=19aaddee1a6c5937066e5aeeec1899f6&size=31&rating=R&d=identicon" alt="" /></a>					<div>
						<strong class="author-name">
							<a href="http://www.realstate.ws" rel="nofollow">Sarah</a>						</strong>
						<strong>said 
						on Jun 02, 2007:</strong>
					</div>
				</span>
				<div class="clear"></div>
				<div class="body">
					<p>On reading your post I had the same thoughts on looking further for a component. Thanks for the explanation on why the code should be a model and not a component. It all makes sense now.</p>
				</div>
				<div class="clear"></div>
							</div>
	  						<div id="comment-480f4df3-92c8-4794-88f8-4f49cbdd56cb" class="blogcomment">
				<span class="author">
					<a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=9ff3fce7206c132838c3d6e7bbf3fee6&size=31&rating=R&d=identicon" alt="" /></a>					<div>
						<strong class="author-name">
							Jelmer&nbsp;						</strong>
						<strong>said 
						on Dec 19, 2007:</strong>
					</div>
				</span>
				<div class="clear"></div>
				<div class="body">
					<p>Thanks a lot for this, I'm testing it right now. Lol, kind of ironic to see a spam comment turn up here then, I guess akismet isn't perfect but yeah there is no perfect solution against spam right..</p>
				</div>
				<div class="clear"></div>
							</div>
	  						<div id="comment-480f4df3-0c5c-45e9-b8ed-41c1cbdd56cb" class="blogcomment admin">
				<span class="author">
					<a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=23968f0ca75b13463d2db5343e5c2096&size=31&rating=R&d=identicon" alt="" /></a>					<div>
						<strong class="author-name">
							<a href="http://www.debuggable.com/felix" rel="nofollow">Felix Geisendörfer</a>						</strong>
						<strong>said 
						on Dec 19, 2007:</strong>
					</div>
				</span>
				<div class="clear"></div>
				<div class="body">
					<p>Jelmer: I deleted that comment now. No, it is not perfect, but by far the best there is right now.</p>
				</div>
				<div class="clear"></div>
							</div>
	  	
				<div class="divider"></div>
		<a name="comment_form"></a>
		<p>This post is too old. We do not allow comments here anymore in order to fight spam. If you have real feedback or questions for the post, please <a href="/contact">contact us</a>.</p>
	</div></div>
	
</div>
<div class="grid_4 prefix_1 omega" id="sidebar">
	<cake:nocache>
			</cake:nocache>

	<h3>RSS Feeds</h3>
	<div id="bug">
		<img src="/img/rss_bug.png" alt="" />	</div>
	<div class="rss">
		<p class="bug-message"></p>
		<a href="http://feeds.feedburner.com/debuggable">Blog RSS</a><br/>
		<a href="http://feeds.feedburner.com/debuggable-comments">Comments RSS</a><br/><br/>
		<img width="88" height="26" alt="" style="border: 0pt none ;" src="http://feeds.feedburner.com/~fc/debuggable?bg=FF9933&amp;fg=444444&amp;anim=0"/>
		<div class="clear"></div>
	</div>

	<h3>Recent Posts</h3>
	<ul>
<li class=""><a href="/posts/releasing-node-mysql-2-0-0-alpha:4fb21c18-7f84-4e8c-a1ef-599bcbdd56cb">Releasing node-mysql 2.0.0-alpha</a></li><li class=""><a href="/posts/how-to-write-jquery-plugins:4f72ab2e-7310-4a74-817a-0a04cbdd56cb">How to write jQuery plugins</a></li><li class=""><a href="/posts/vim-workshop-in-berlin-april-20:4f702b83-ce24-429c-9403-0e39cbdd56cb">Vim Workshop in Berlin (April 20)</a></li><li class=""><a href="/posts/npm-an-intervention:4f44dd25-a114-4361-ada1-6cefcbdd56cb">NPM - An intervention</a></li><li class="active"><a href="/posts/testing-node-js-modules-with-travis-ci:4ec62298-aec4-4ee3-8b5a-2c96cbdd56cb">Testing node.js modules with Travis CI</a></li><li class=""><a href="/posts/private-npm-modules:4e68cc7d-1ac4-42d9-995a-343dcbdd56cb">Private npm modules</a></li></ul>
	<h3>Archive</h3>
	<p class="small align">
		<strong>443 Posts</strong>, <strong>4608 Comments</strong><br /><br />
		We are on air since 2006. Take a tour through the
		<a href="/posts/archive">blog archive</a>.
	</p>
	<div class="search">
	<form id="PostSearchForm" method="post" action="/posts/search"><fieldset style="display:none;"><input type="hidden" name="_method" value="POST" /></fieldset><input name="data[Post][keywords]" type="text" value="" id="PostKeywords" /><input type="submit" class="button" value="Search" /></form>	<div class="clear"></div>
</div>
	<h3>Recent Comments</h3>
	<div class="recent-comments">
		<div class="comment"><a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=23968f0ca75b13463d2db5343e5c2096&size=15&rating=R&d=identicon" alt="" /></a><a href="/posts/releasing-node-mysql-2-0-0-alpha:4fb21c18-7f84-4e8c-a1ef-599bcbdd56cb#comment-4fd32b85-220c-4fc8-84b2-378fcbdd56cb">William: thanks, fixed ..</a></div><div class="clear_left"></div><div class="comment"><a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=b47010beec892f11619d1e81f0c94f11&size=15&rating=R&d=identicon" alt="" /></a><a href="/posts/releasing-node-mysql-2-0-0-alpha:4fb21c18-7f84-4e8c-a1ef-599bcbdd56cb#comment-4fd30119-06fc-4712-aecd-7fa5cbdd56cb">Hi Felix,

The Upgra ..</a></div><div class="clear_left"></div><div class="comment"><a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=99b59e8a9cfe2c5575f0fa90f7f30307&size=15&rating=R&d=identicon" alt="" /></a><a href="/posts/how-to-write-jquery-plugins:4f72ab2e-7310-4a74-817a-0a04cbdd56cb#comment-4f99a4a2-9ad8-4476-b208-611acbdd56cb">Maybe you can write so ..</a></div><div class="clear_left"></div><div class="comment"><a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=8364689a1eefb5eceb6a4f38bbf95731&size=15&rating=R&d=identicon" alt="" /></a><a href="/posts/how-to-write-jquery-plugins:4f72ab2e-7310-4a74-817a-0a04cbdd56cb#comment-4f9651b9-eb88-4096-94c1-0fc2cbdd56cb">This is very nice plug ..</a></div><div class="clear_left"></div><div class="comment"><a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=7e3d69d16d3b845e89198512355b2ac9&size=15&rating=R&d=identicon" alt="" /></a><a href="/posts/how-to-write-jquery-plugins:4f72ab2e-7310-4a74-817a-0a04cbdd56cb#comment-4f8bb75a-96cc-4197-8e93-7c63cbdd56cb">Nice article!

Somet ..</a></div><div class="clear_left"></div><div class="comment"><a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=e57a2bc121063a81e8e6a04aa85cc54f&size=15&rating=R&d=identicon" alt="" /></a><a href="/posts/how-to-write-jquery-plugins:4f72ab2e-7310-4a74-817a-0a04cbdd56cb#comment-4f83326b-8c28-43fc-b70d-097ecbdd56cb">That&#039;s fine ognian, th ..</a></div><div class="clear_left"></div><div class="comment"><a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=994516a664c2bdc728d18c47e935bc14&size=15&rating=R&d=identicon" alt="" /></a><a href="/posts/how-to-write-jquery-plugins:4f72ab2e-7310-4a74-817a-0a04cbdd56cb#comment-4f832a25-5818-4d38-9e39-097ecbdd56cb">Really nice work! I wa ..</a></div><div class="clear_left"></div><div class="comment"><a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=e57a2bc121063a81e8e6a04aa85cc54f&size=15&rating=R&d=identicon" alt="" /></a><a href="/posts/how-to-write-jquery-plugins:4f72ab2e-7310-4a74-817a-0a04cbdd56cb#comment-4f7c15ca-c7c4-48e3-a4db-27decbdd56cb">@Jörn: Sorry, thought  ..</a></div><div class="clear_left"></div><div class="comment"><a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=d5d83832be2b6c70d1968635f68a1b4a&size=15&rating=R&d=identicon" alt="" /></a><a href="/posts/how-to-write-jquery-plugins:4f72ab2e-7310-4a74-817a-0a04cbdd56cb#comment-4f7c11aa-6f9c-448c-abdb-2066cbdd56cb">Thanks didn&#039;t quite un ..</a></div><div class="clear_left"></div><div class="comment"><a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=e57a2bc121063a81e8e6a04aa85cc54f&size=15&rating=R&d=identicon" alt="" /></a><a href="/posts/how-to-write-jquery-plugins:4f72ab2e-7310-4a74-817a-0a04cbdd56cb#comment-4f7bf934-d4e8-4885-9a2c-7a93cbdd56cb">Well you could expose  ..</a></div><div class="clear_left"></div>	</div>
	<div class="clear_left"></div>
	<h3>Keep an eye on</h3>
<ul class="links external">
	<li><a href="http://transloadit.com" title="Video encoding, image resizing and more for your web or mobile app">Transloadit</a></li><li><a href="http://tus.io" title="Resumable file uploading, upload progress bar, faster upload speed">tus - resumable file upload protocol</a></li><li><a href="http://kevin.vanzonneveld.net/">Kevin van Zonneveld</a></li><li><a href="http://www.littlehart.net/atthekeyboard/">Chris Hartjes</a></li><li><a href="http://mark-story.com">Mark Story</a></li><li><a href="http://www.webbosaurus.de">Webbosaurus</a></li></ul>
	<a href='https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Number' title='JavaScript JS Documentation: JS Number Example: Using the Number object to assign values to numeric variables, JavaScript Number Example: Using the Number object to assign values to numeric variables'><img src='http://static.jsconf.us/promotejshs.png' height='150' width='180' alt='JavaScript JS Documentation: JS Number Example: Using the Number object to assign values to numeric variables, JavaScript Number Example: Using the Number object to assign values to numeric variables'/></a>
</div>

						<div class="clear">&nbsp;</div>
		</div>

		<div id="footer">
			<div class="container_16">
				<ul id="footer_navigation">
					<ul>
<li class=""><a href="/blog">Blog</a></li><li class="active"><a href="/">About</a></li></ul>				</ul>
				<p>&copy; 2008 - 2015, Debuggable Ltd. All rights reserved.
				<i>Designed by <a href="http://www.fluidcore.net" target="_blank">fluidCORE</a>.</i>
			</div>
		</div>
	</div>
	<script type="text/javascript" src="/js/aggregate/58a4727fb2207154ddd0739cbc3b15104ad6cd03/5627ea2806458e56fb8a5f4b231a44c2.php"></script><script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-3306079-3']);
_gaq.push(['_trackPageview']);
(function() {
var ga = document.createElement('script');
ga.src = ('https:' == document.location.protocol ?
    'https://ssl' : 'http://www') +
    '.google-analytics.com/ga.js';
ga.setAttribute('async', 'true');
document.documentElement.firstChild.appendChild(ga);
})();
</script></body>
</html>
