<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> 
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
	<title>Blog &raquo; Debuggable - Node.js Consulting</title>

	<link href="http://feeds.feedburner.com/debuggable" type="application/rss+xml" rel="alternate" title="RSS 2.0" />	<link rel="pingback" href="Debuggable.com/pingback" />
	<link rel="stylesheet" type="text/css" href="/css/aggregate/58a4727fb2207154ddd0739cbc3b15104ad6cd03/4026ee2275e22a4e5ec8aea13747c557.php" /></head>
	<body>
		<div class="container_16">
			<h1 id="logo-text"><a href="/">debuggable</a></h1>
			<ul id="navigation">
				<ul>
<li class="active"><a href="/blog">Blog</a></li><li class=""><a href="/">About</a></li></ul>			</ul>
			<div class="clear">&nbsp;</div>

			<div id="blueprint">
				<a href="/contact" class="contact">Contact Us</a>			</div>

			<div class="clear">&nbsp;</div>
			<div class="grid_11 alpha" id="content">
	<cake:nocache>
			<div class="messages empty"></div>
	</cake:nocache>
	<div class="paging">
	<a href="/posts/index/page:6" class="prev">&laquo; Previous</a> <span><a href="/posts/index/page:3">3</a></span> | <span><a href="/posts/index/page:4">4</a></span> | <span><a href="/posts/index/page:5">5</a></span> | <span><a href="/posts/index/page:6">6</a></span> | <span class="current">7</span> | <span><a href="/posts/index/page:8">8</a></span> | <span><a href="/posts/index/page:9">9</a></span> | <span><a href="/posts/index/page:10">10</a></span> | <span><a href="/posts/index/page:11">11</a></span> <a href="/posts/index/page:8" class="next">Next &raquo;</a></div>
	<div class="post">
	<h2><a href="/posts/apology-to-the-csf-and-cakedc:4b743f89-ef24-4d73-9443-01a2cbdd56cb">Apology to the CSF and CakeDC</a></h2>	<div class="posted-on">
		<p>Posted on 11/2/10 by 
		<a href="/felix">Felix Geisendörfer</a>				</p>
		<div class="thumb">
			<img alt="" src="/img/felix_thumb.jpg"/>		</div>
	</div>
	<div class="body">
				<p>After our <a href="http://debuggable.com/posts/the-high-cost-of-open-source:4b58e599-a9a0-4774-b3ff-302bcbdd56cb">previous post</a>, we are very happy to announce our formal apology to the <a href="http://cakedc.com/">CakeDC</a> and the <a href="http://cakefoundation.org/">Cake Software Foundation</a>.</p>

<p>After further discussions with the CSF we have come to understand why the CSF needs to have an agreement with the venue, this is required to free the funds for making this transaction since the CSF would be legally responsible for the payment. Larry E. Masters has helped us to work out all misunderstandings in that regard, and we would also like to formally apologize to him.</p>

<p>Beyond that, we are also apologizing to the CakePHP community, for jumping the gun early, and having caused damage to the image of the project. This was not our intention, and we only did that, as a last resort to see the venue paid and defending our business from harm.</p>

<p>As previously announced, we are still planning on being valuable members to the community, releasing plugins &amp; components as open source.</p>

<p>We are grateful to all those who donated, and will reimburse everybody completely once the venue has been paid in full, or in no longer than 60 days from the time of your donation, whichever comes first. We will take down the pledgie site also. Until then we will continue to pay the venue 500 EUR / month, so that any eventual delays will not be to their disadvantage. We also had a misunderstanding with the agreement Larry E. Masters had made to personally cover the 500 EUR / month while the CSF was trying to clear up the situation with the 501(c)(3) status. He also clarified, that the CSF is an independent entity from the CakeDC with its own board of directors which currently hold these positions temporarily and that a new board will be in place when all of this legal stuff is completed.</p>

<p>Please, do not let any of this reflect on your opinion about the framework. Every community has their difficult moments, and the CakePHP community has just shown how strong it is, and that all parties are willing to cooperate for its prosperous future without leaving any hard feelings behind.</p>

<p>Sincerely Yours,</p>

<p>Felix Geisendörfer, Director<br>
Tim Koschützki, Director</p>

<p><img style="display: none;" src="http://debuggable.com/posts/tick/4b743f89-ef24-4d73-9443-01a2cbdd56cb"></p>
	</div>
	<div class="clear">&nbsp;</div>
	<div class="social">
	<p class="subscribe">Did you like this blog post? If so, please consider <a href="http://feeds.feedburner.com/debuggable">subscribing to the Blog RSS feed</a>.</p>

	<ul>
	<li class="sociablefirst">
				<a class="linkedin" title="LinkedIn" href="javascript:window.location='http://www.linkedin.com/shareArticle?mini=true&amp;url=http%3A%2F%2Fdebuggable.com%2Fposts%2Fapology-to-the-csf-and-cakedc%3A4b743f89-ef24-4d73-9443-01a2cbdd56cb &amp;title=Apology+to+the+CSF+and+CakeDC';" rel="nofollow">
			<img class="sociable-hovers" alt="Linked In" title="Linked In" src="/img/social_icons/linkedin.png"/>
		</a>
	</li>
	<li>
		<a class="sphinn" title="Sphinn" href="javascript:window.location='http://sphinn.com/index.php?c=post&amp;m=submit&amp;link=http%3A%2F%2Fdebuggable.com%2Fposts%2Fapology-to-the-csf-and-cakedc%3A4b743f89-ef24-4d73-9443-01a2cbdd56cb';" rel="nofollow">
		<img class="sociable-hovers" alt="Sphinn" title="Sphinn" src="/img/social_icons/sphinn.png"/>
		</a>
	</li>
	<li>
		<a class="digg" title="Digg" href="javascript:window.location='http://digg.com/submit?url=http%3A%2F%2Fdebuggable.com%2Fposts%2Fapology-to-the-csf-and-cakedc%3A4b743f89-ef24-4d73-9443-01a2cbdd56cb&amp;title=Apology+to+the+CSF+and+CakeDC&amp;bodytext=+..&amp;media=News&amp;topic=Programming';" rel="nofollow">
		<img class="sociable-hovers" alt="Digg" title="Digg" src="/img/social_icons/digg.png"/>
		</a>
	</li>
	<li>
	<a class="del.icio.us" title="del.icio.us" href="javascript:window.location='http://delicious.com/post?url=http%3A%2F%2Fdebuggable.com%2Fposts%2Fapology-to-the-csf-and-cakedc%3A4b743f89-ef24-4d73-9443-01a2cbdd56cb&amp;title=Apology+to+the+CSF+and+CakeDC';" rel="nofollow">
		<img class="sociable-hovers" alt="Delicious" title="Delicious" src="/img/social_icons/delicious.png"/>
	</a>
	</li>
	<li class="sociablelast">
		<a class="stumbleupon" title="StumbleUpon" href="javascript:window.location='http://www.stumbleupon.com/submit?url=http%253A%252F%252Fyoast.com%252F40-wordpress-optimisation-tips%252F&amp;title=40%2520WordPress%2520Optimisation%2520tips';" rel="nofollow">
		<img class="sociable-hovers" alt="StumbleUpon" title="StumbleUpon" src="/img/social_icons/stumbleupon.png"/>
		</a>
	</li>
	</ul>
</div>

	
	<div class="post-footer">
		<img src="/css/img/comments.png" alt="Comments"> <a href="/posts/apology-to-the-csf-and-cakedc:4b743f89-ef24-4d73-9443-01a2cbdd56cb">24 Comments</a> &nbsp; | &nbsp; 
		<img src="/css/img/add_comment.png" alt="Add Comment"> <a href="/posts/apology-to-the-csf-and-cakedc:4b743f89-ef24-4d73-9443-01a2cbdd56cb#CommentAddForm">Add Comment</a>	</div>
	</div>
<div class="post">
	<h2><a href="/posts/thank-you:4b73ce12-d0c4-4620-a2fb-32a9cbdd56cb">Thank You!</a></h2>	<div class="posted-on">
		<p>Posted on 11/2/10 by 
		<a href="/felix">Felix Geisendörfer</a>				</p>
		<div class="thumb">
			<img alt="" src="/img/felix_thumb.jpg"/>		</div>
	</div>
	<div class="body">
				<p><strong>Latest Update:</strong> The whole situation has been resolved, please read <a href="http://debuggable.com/posts/apology-to-the-csf-and-cakedc:4b743f89-ef24-4d73-9443-01a2cbdd56cb">our apology to the CSF and CakeDC</a>.</p>

<p>We are truly thankful. Since putting up our <a href="http://debuggable.com/posts/the-high-cost-of-open-source:4b58e599-a9a0-4774-b3ff-302bcbdd56cb">post</a> last night, people have already donated 2,075.00 EUR. There were almost 30 donators, some of them donating as much 600 EUR, with others who have pledged continuing support over the next months.</p>

<p>We cannot thank everybody enough for this, and all the kind comments. But as a start, here is the list of people who have <a href="http://pledgie.com/campaigns/8174">donated</a> so far, we'll keep it updated. If you want your name to be linked, just email us.</p>

<ul>
<li>Garrett Woodworth</li>
<li>Shawn Stratton</li>
<li>Phillip Hile</li>
<li>Aaron Forgue</li>
<li>Rob Wilkerson</li>
<li>Clay Loveless</li>
<li>Gilles Grinfeder</li>
<li>Jeff Loiselle</li>
<li>Lars Schenk</li>
<li>Nathan Abele</li>
<li>@elventails</li>
<li>@indiefan</li>
<li>Yusuke Ando</li>
<li>@jperras</li>
<li>Jon Adams</li>
<li>Jose Diaz-Gonzalez (@savant)</li>
<li>Dirk Olbertz</li>
<li>Mark Boas</li>
<li>Charlie van de Kerkhof</li>
<li>Lucian Lature</li>
<li>@leomelzer</li>
<li>Robert Scherer</li>
<li>Guillaume Sautereau</li>
<li>Daniel Hofstetter</li>
<li>Arne Psczolla</li>
<li>@pzwiers</li>
</ul>

<p>Regarding the question: Did we publish this to harm the CakePHP community?</p>

<p>The answer is no, we are sorry if this shines a bad light on the project. We had two motivations to publish this post. For one, we wanted to reach out for help with this bill. However, we also wanted to share our story with the community, giving them the chance to push for improvements of the situation CakePHP is in.</p>

<p>But you don't have to take our word for it. We already have a few new plugins &amp; components lined up for release. This project has a community of great people, and just as they have supported us in this tough moment, we plan to continue supporting them.</p>

<p>Again, thanks to everybody who helped, also those who are not involved with CakePHP at all!</p>

<p>--fg</p>

<p><img style="display: none;" src="http://debuggable.com/posts/tick/4b73ce12-d0c4-4620-a2fb-32a9cbdd56cb"></p>
	</div>
	<div class="clear">&nbsp;</div>
	<div class="social">
	<p class="subscribe">Did you like this blog post? If so, please consider <a href="http://feeds.feedburner.com/debuggable">subscribing to the Blog RSS feed</a>.</p>

	<ul>
	<li class="sociablefirst">
				<a class="linkedin" title="LinkedIn" href="javascript:window.location='http://www.linkedin.com/shareArticle?mini=true&amp;url=http%3A%2F%2Fdebuggable.com%2Fposts%2Fthank-you%3A4b73ce12-d0c4-4620-a2fb-32a9cbdd56cb &amp;title=Thank+You%21';" rel="nofollow">
			<img class="sociable-hovers" alt="Linked In" title="Linked In" src="/img/social_icons/linkedin.png"/>
		</a>
	</li>
	<li>
		<a class="sphinn" title="Sphinn" href="javascript:window.location='http://sphinn.com/index.php?c=post&amp;m=submit&amp;link=http%3A%2F%2Fdebuggable.com%2Fposts%2Fthank-you%3A4b73ce12-d0c4-4620-a2fb-32a9cbdd56cb';" rel="nofollow">
		<img class="sociable-hovers" alt="Sphinn" title="Sphinn" src="/img/social_icons/sphinn.png"/>
		</a>
	</li>
	<li>
		<a class="digg" title="Digg" href="javascript:window.location='http://digg.com/submit?url=http%3A%2F%2Fdebuggable.com%2Fposts%2Fthank-you%3A4b73ce12-d0c4-4620-a2fb-32a9cbdd56cb&amp;title=Thank+You%21&amp;bodytext=+..&amp;media=News&amp;topic=Programming';" rel="nofollow">
		<img class="sociable-hovers" alt="Digg" title="Digg" src="/img/social_icons/digg.png"/>
		</a>
	</li>
	<li>
	<a class="del.icio.us" title="del.icio.us" href="javascript:window.location='http://delicious.com/post?url=http%3A%2F%2Fdebuggable.com%2Fposts%2Fthank-you%3A4b73ce12-d0c4-4620-a2fb-32a9cbdd56cb&amp;title=Thank+You%21';" rel="nofollow">
		<img class="sociable-hovers" alt="Delicious" title="Delicious" src="/img/social_icons/delicious.png"/>
	</a>
	</li>
	<li class="sociablelast">
		<a class="stumbleupon" title="StumbleUpon" href="javascript:window.location='http://www.stumbleupon.com/submit?url=http%253A%252F%252Fyoast.com%252F40-wordpress-optimisation-tips%252F&amp;title=40%2520WordPress%2520Optimisation%2520tips';" rel="nofollow">
		<img class="sociable-hovers" alt="StumbleUpon" title="StumbleUpon" src="/img/social_icons/stumbleupon.png"/>
		</a>
	</li>
	</ul>
</div>

	
	<div class="post-footer">
		<img src="/css/img/comments.png" alt="Comments"> <a href="/posts/thank-you:4b73ce12-d0c4-4620-a2fb-32a9cbdd56cb">4 Comments</a> &nbsp; | &nbsp; 
		<img src="/css/img/add_comment.png" alt="Add Comment"> <a href="/posts/thank-you:4b73ce12-d0c4-4620-a2fb-32a9cbdd56cb#CommentAddForm">Add Comment</a>	</div>
	</div>
<div class="post">
	<h2><a href="/posts/the-high-cost-of-open-source:4b58e599-a9a0-4774-b3ff-302bcbdd56cb">The High Cost of Open Source </a></h2>	<div class="posted-on">
		<p>Posted on 10/2/10 by 
		<a href="/felix">Felix Geisendörfer</a>				</p>
		<div class="thumb">
			<img alt="" src="/img/felix_thumb.jpg"/>		</div>
	</div>
	<div class="body">
				<p><strong>Latest Update:</strong> The whole situation has been resolved, please read <a href="http://debuggable.com/posts/apology-to-the-csf-and-cakedc:4b743f89-ef24-4d73-9443-01a2cbdd56cb">our apology to the CSF and CakeDC</a>.</p>

<p><a href="http://debuggable.com/posts/summary_of_cakefest_3_berlin:4a5ca8fe-0f50-49fe-afc3-3d584834cda3">6 months ago, I posted about a great event</a> which we helped to organize: CakeFest #3, here in our home city of Berlin. This event helped to connect developers from all over Europe, and even as far away as Australia, Tokyo and Los Angeles. There were great people, talks, and food, and everything ran extremely smoothly. By any measurement, it was a huge success.</p>

<p>This did not happen by accident. A number of people made a big effort to put the event on, starting with lots of planning and communication months beforehand. Debuggable helped by finding and booking the venue, researching, and coordinating logistics here on location. We didn't make money from this, and that's okay. We wanted to support the CakePHP community by hosting another awesome event.</p>

<p>Over 6 months later, <a href="http://www.gls-german-courses.de/2013.html">the GLS</a>, who provided us with first-class service and what was probably the best venue ever, has still not received payment.</p>

<p>Don't be mistaken, this was not due to any errors in the organization of the event. The turnout was great, and the event was well-sponsored. The <a href="http://cakefoundation.org/">Cake Software Foundation, Inc.</a>, which collected all revenues, has already reimbursed its own organizing participants, but completely neglected to pay the venue (the bulk of the conference's expense). To make matters worse, the CSF has had their accounts frozen by the IRS.</p>

<p>How do we know this? Unfortunately, we are in the middle of this mess. In our efforts to help organize the event, we signed the proposal for the location and catering. We did so in good faith, because we were working in cooperation with the CSF, and of course had all such details approved.</p>

<p>When, in early October, we discovered that the venue never received payment, we initially believed it to be a mistake, and started delivering messages between the venue and <a href="http://cakedc.com/eng/team#masters">Larry E. Masters</a>, who in the meantime had taken over the position of CSF president after <a href="http://twitter.com/gwoo">Garrett Woodworth</a> had resigned. Larry told us he would take care of it.</p>

<p>Weeks passed, and we talked to the GLS staff every other day, asking them for their patience, as there appeared to be "problems" with getting the payment sent. A month later, on November 10th, Larry agreed to send a token payment of USD $4500 through <a href="http://cakedc.com/">the CakeDC</a> via PayPal, which we forwarded to the venue (they do not accept PayPal).</p>

<p>Unfortunately, this is still the latest update on the payment. Of the total invoice of EUR 7665, the first payment (after currency conversion and PayPal fees) only amounts to EUR 2807, leaving an outstanding balance of EUR 5058 (USD $6929).</p>

<p>The venue has been incredibly patient and understanding through this whole process, but their patience has run out, and they're considering legal action against Debuggable. We signed the proposal, so technically they're not wrong: we are responsible.</p>

<p>At this point it's pretty clear that the CSF has no intention of taking responsibility for this, which leaves us with some hard choices. We could argue that, by invoicing the CSF and not us, that the venue implicitly signed over the contract to the CSF. We have to admit, we briefly considered doing that. 5K is not pocket money for us, and this definitely isn't our bill.</p>

<p>However, that would be wrong. Not to say that us paying this bill isn't wrong, but this is a wrong we can actually right. The venue deserves to get paid. So, we decided to go ahead and set up a plan to pay back the venue over the next few months.</p>

<p>Since a few people who have been aware of the situation have asked us to provide a way for them to help, too, we have put up a page on pledgie.com:</p>

<p><a href="http://pledgie.com/campaigns/8174">Donate to the CakeFest Venue Payment</a></p>

<p>We greatly appreciate any support, as it helps ease our burden, but the venue will be paid regardless of the outcome of the pledge. Right now, the most likely outcome is that we'll have to take care of this on our own, but we're still holding onto the hope that this last-ditch effort of going public might help change Larry's mind.</p>

<p>What's worse is his company, <a href="http://cakedc.com/">the CakeDC</a>, now has exclusive controlling interest over a project which was once driven by its community. Despite his slowness to work this out with us, he has shown no hesitation in <a href="http://www.pseudocoder.com/archives/cakephp-digest-21-whose-left">taking full advantage</a> of the <a href="http://cakephp.org/services/support">benefits of this control</a>. If the CSF's position changes in any way, we will certainly send out an update.</p>

<p>--fg</p>

<p>PS: There is much more to this story, the CSF shake-ups, and why the their accounts are frozen, but it goes well beyond what we can verify. In the end, it doesn't matter; this isn't about finding fault, but about taking responsibility.
<img style="display: none;" src="http://debuggable.com/posts/tick/4b58e599-a9a0-4774-b3ff-302bcbdd56cb"></p>
	</div>
	<div class="clear">&nbsp;</div>
	<div class="social">
	<p class="subscribe">Did you like this blog post? If so, please consider <a href="http://feeds.feedburner.com/debuggable">subscribing to the Blog RSS feed</a>.</p>

	<ul>
	<li class="sociablefirst">
				<a class="linkedin" title="LinkedIn" href="javascript:window.location='http://www.linkedin.com/shareArticle?mini=true&amp;url=http%3A%2F%2Fdebuggable.com%2Fposts%2Fthe-high-cost-of-open-source%3A4b58e599-a9a0-4774-b3ff-302bcbdd56cb &amp;title=The+High+Cost+of+Open+Source+';" rel="nofollow">
			<img class="sociable-hovers" alt="Linked In" title="Linked In" src="/img/social_icons/linkedin.png"/>
		</a>
	</li>
	<li>
		<a class="sphinn" title="Sphinn" href="javascript:window.location='http://sphinn.com/index.php?c=post&amp;m=submit&amp;link=http%3A%2F%2Fdebuggable.com%2Fposts%2Fthe-high-cost-of-open-source%3A4b58e599-a9a0-4774-b3ff-302bcbdd56cb';" rel="nofollow">
		<img class="sociable-hovers" alt="Sphinn" title="Sphinn" src="/img/social_icons/sphinn.png"/>
		</a>
	</li>
	<li>
		<a class="digg" title="Digg" href="javascript:window.location='http://digg.com/submit?url=http%3A%2F%2Fdebuggable.com%2Fposts%2Fthe-high-cost-of-open-source%3A4b58e599-a9a0-4774-b3ff-302bcbdd56cb&amp;title=The+High+Cost+of+Open+Source+&amp;bodytext=+..&amp;media=News&amp;topic=Programming';" rel="nofollow">
		<img class="sociable-hovers" alt="Digg" title="Digg" src="/img/social_icons/digg.png"/>
		</a>
	</li>
	<li>
	<a class="del.icio.us" title="del.icio.us" href="javascript:window.location='http://delicious.com/post?url=http%3A%2F%2Fdebuggable.com%2Fposts%2Fthe-high-cost-of-open-source%3A4b58e599-a9a0-4774-b3ff-302bcbdd56cb&amp;title=The+High+Cost+of+Open+Source+';" rel="nofollow">
		<img class="sociable-hovers" alt="Delicious" title="Delicious" src="/img/social_icons/delicious.png"/>
	</a>
	</li>
	<li class="sociablelast">
		<a class="stumbleupon" title="StumbleUpon" href="javascript:window.location='http://www.stumbleupon.com/submit?url=http%253A%252F%252Fyoast.com%252F40-wordpress-optimisation-tips%252F&amp;title=40%2520WordPress%2520Optimisation%2520tips';" rel="nofollow">
		<img class="sociable-hovers" alt="StumbleUpon" title="StumbleUpon" src="/img/social_icons/stumbleupon.png"/>
		</a>
	</li>
	</ul>
</div>

	
	<div class="post-footer">
		<img src="/css/img/comments.png" alt="Comments"> <a href="/posts/the-high-cost-of-open-source:4b58e599-a9a0-4774-b3ff-302bcbdd56cb">37 Comments</a> &nbsp; | &nbsp; 
		<img src="/css/img/add_comment.png" alt="Add Comment"> <a href="/posts/the-high-cost-of-open-source:4b58e599-a9a0-4774-b3ff-302bcbdd56cb#CommentAddForm">Add Comment</a>	</div>
	</div>
<div class="post">
	<h2><a href="/posts/unit-testing-with-node-js:4b647d40-34e4-435a-a880-3b04cbdd56cb">Unit testing with node.js</a></h2>	<div class="posted-on">
		<p>Posted on 30/1/10 by 
		<a href="/felix">Felix Geisendörfer</a>				</p>
		<div class="thumb">
			<img alt="" src="/img/felix_thumb.jpg"/>		</div>
	</div>
	<div class="body">
				<p>Even so most stuff is fairly easy with <a href="http://nodejs.org/">node.js</a>, unit testing takes a little bit of getting used to. The main difference to regular unit testing is that just because your test finishes running without an error, it doesn't mean there was no problem. But lets start with the basics.</p>

<p>Node.js has adopted the CommonJS <a href="http://wiki.commonjs.org/wiki/Unit_Testing/1.0#Assert">assert module specification</a>. You may also find references to <code>mjsunit</code>, but node no longer uses this library. </p>

<p>Lets have a look at how to write a basic test with node, lets call it <code>my-test.js</code>:</p>

<p><div class="clear"></div><div class="code debuggable_sh_js" style="white-space: wrap;white-space: nowrap;">
<span class="kw2">var</span> assert = require<span class="br0">&#40;</span><span class="st0">'assert'</span><span class="br0">&#41;</span>;<br />
<br />
<span class="co1">// Will pass</span><br />
assert.<span class="me1">ok</span><span class="br0">&#40;</span><span class="kw2">true</span><span class="br0">&#41;</span>;<br />
<br />
<span class="co1">// Will throw an exception</span><br />
assert.<span class="me1">ok</span><span class="br0">&#40;</span><span class="kw2">false</span><span class="br0">&#41;</span>;</div></p>

<p>Running this test will produce the following output:</p>

<pre class="terminal">$ node my-test.js
AssertionError: true == false
    at Object.<anonymous> (my-test.js:7:8)
    at [object Object].<anonymous> (node.js:928:23)
    at [object Object].emitSuccess (node.js:240:15)
    at [object Object].<anonymous> (node.js:653:21)
    at [object Object].emitSuccess (node.js:240:15)
    at node.js:510:29
    at node.js:985:1
    at node.js:989:1</pre>

<p>One thing to note here is that, when node dies from an exception (which a failing assertion is), the exit code will be 1:</p>

<pre class="terminal">$ echo $?
1</pre>

<p>But lets have a look at a more interesting unit test. Let's say you are writing a "hello world" web service called <code>hello.js</code>:</p>

<p><div class="clear"></div><div class="code debuggable_sh_js" style="white-space: wrap;white-space: nowrap;">
<span class="kw2">var</span> http = require<span class="br0">&#40;</span><span class="st0">'http'</span><span class="br0">&#41;</span>;<br />
<br />
exports.<span class="me1">server</span> = http.<span class="me1">createServer</span><span class="br0">&#40;</span><span class="kw2">function</span><span class="br0">&#40;</span>req, res<span class="br0">&#41;</span> <span class="br0">&#123;</span><br />
&nbsp; res.<span class="me1">sendHeader</span><span class="br0">&#40;</span><span class="nu0">200</span>, <span class="br0">&#123;</span><span class="st0">'Content-Type'</span>: <span class="st0">'text/plain'</span><span class="br0">&#125;</span><span class="br0">&#41;</span>;<br />
&nbsp; res.<span class="me1">sendBody</span><span class="br0">&#40;</span><span class="st0">'hello world'</span><span class="br0">&#41;</span>;<br />
&nbsp; res.<span class="me1">finish</span><span class="br0">&#40;</span><span class="br0">&#41;</span>;<br />
<span class="br0">&#125;</span><span class="br0">&#41;</span>;</div></p>

<p>To test this service, we can write a file called <code>test-hello.js</code> like this:</p>

<p><div class="clear"></div><div class="code debuggable_sh_js" style="white-space: wrap;white-space: nowrap;">
<span class="kw2">var</span><br />
&nbsp; assert = require<span class="br0">&#40;</span><span class="st0">'assert'</span><span class="br0">&#41;</span>,<br />
&nbsp; http = require<span class="br0">&#40;</span><span class="st0">'http'</span><span class="br0">&#41;</span>,<br />
&nbsp; hello = require<span class="br0">&#40;</span><span class="st0">'./hello'</span><span class="br0">&#41;</span>,<br />
&nbsp; callbackFired = <span class="kw2">false</span>;<br />
<br />
hello.<span class="me1">server</span>.<span class="me1">listen</span><span class="br0">&#40;</span><span class="nu0">3000</span><span class="br0">&#41;</span>;<br />
<br />
http<br />
&nbsp; .<span class="me1">cat</span><span class="br0">&#40;</span><span class="st0">'http://localhost:3000/'</span><span class="br0">&#41;</span><br />
&nbsp; .<span class="me1">addCallback</span><span class="br0">&#40;</span><span class="kw2">function</span><span class="br0">&#40;</span>data<span class="br0">&#41;</span> <span class="br0">&#123;</span><br />
&nbsp; &nbsp; callbackFired = <span class="kw2">true</span>;<br />
&nbsp; &nbsp; assert.<span class="me1">equal</span><span class="br0">&#40;</span><span class="st0">'hello world'</span>, data<span class="br0">&#41;</span>;<br />
&nbsp; &nbsp; hello.<span class="me1">server</span>.<span class="kw3">close</span><span class="br0">&#40;</span><span class="br0">&#41;</span>;<br />
&nbsp; <span class="br0">&#125;</span><span class="br0">&#41;</span>;<br />
<br />
process.<span class="me1">addListener</span><span class="br0">&#40;</span><span class="st0">'exit'</span>, <span class="kw2">function</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span><br />
&nbsp; assert.<span class="me1">ok</span><span class="br0">&#40;</span>callbackFired<span class="br0">&#41;</span>;<br />
<span class="br0">&#125;</span><span class="br0">&#41;</span>;</div></p>

<p>What's important in this test is that we are checking for two things here.</p>

<p>The first is the obvious assertion that the web service outputs the content we expect, nothing too exciting here.</p>

<p>The second is declaring the variable <code>callbackFired</code> and checking its value in the process <code>'exit'</code> event. You could get away with not doing it for this particular test, because the test would never finish without the <code>hello.server.close()</code> line getting executed. For more complex tests however, it becomes incredibly important to keep in mind that a callback may never fire, something you can only catch with little helper variables like this.</p>

<p>If you need some more inspiration for testing different stuff with node, you should start by going over the <a href="http://github.com/ry/node/tree/master/test/mjsunit/">test suite</a> that comes with it.</p>

<p>Let me know if you have any questions!</p>

<p>-fg</p>

<p><img style="display: none;" src="http://debuggable.com/posts/tick/4b647d40-34e4-435a-a880-3b04cbdd56cb"></p>
	</div>
	<div class="clear">&nbsp;</div>
	<div class="social">
	<p class="subscribe">Did you like this blog post? If so, please consider <a href="http://feeds.feedburner.com/debuggable">subscribing to the Blog RSS feed</a>.</p>

	<ul>
	<li class="sociablefirst">
				<a class="linkedin" title="LinkedIn" href="javascript:window.location='http://www.linkedin.com/shareArticle?mini=true&amp;url=http%3A%2F%2Fdebuggable.com%2Fposts%2Funit-testing-with-node-js%3A4b647d40-34e4-435a-a880-3b04cbdd56cb &amp;title=Unit+testing+with+node.js';" rel="nofollow">
			<img class="sociable-hovers" alt="Linked In" title="Linked In" src="/img/social_icons/linkedin.png"/>
		</a>
	</li>
	<li>
		<a class="sphinn" title="Sphinn" href="javascript:window.location='http://sphinn.com/index.php?c=post&amp;m=submit&amp;link=http%3A%2F%2Fdebuggable.com%2Fposts%2Funit-testing-with-node-js%3A4b647d40-34e4-435a-a880-3b04cbdd56cb';" rel="nofollow">
		<img class="sociable-hovers" alt="Sphinn" title="Sphinn" src="/img/social_icons/sphinn.png"/>
		</a>
	</li>
	<li>
		<a class="digg" title="Digg" href="javascript:window.location='http://digg.com/submit?url=http%3A%2F%2Fdebuggable.com%2Fposts%2Funit-testing-with-node-js%3A4b647d40-34e4-435a-a880-3b04cbdd56cb&amp;title=Unit+testing+with+node.js&amp;bodytext=+..&amp;media=News&amp;topic=Programming';" rel="nofollow">
		<img class="sociable-hovers" alt="Digg" title="Digg" src="/img/social_icons/digg.png"/>
		</a>
	</li>
	<li>
	<a class="del.icio.us" title="del.icio.us" href="javascript:window.location='http://delicious.com/post?url=http%3A%2F%2Fdebuggable.com%2Fposts%2Funit-testing-with-node-js%3A4b647d40-34e4-435a-a880-3b04cbdd56cb&amp;title=Unit+testing+with+node.js';" rel="nofollow">
		<img class="sociable-hovers" alt="Delicious" title="Delicious" src="/img/social_icons/delicious.png"/>
	</a>
	</li>
	<li class="sociablelast">
		<a class="stumbleupon" title="StumbleUpon" href="javascript:window.location='http://www.stumbleupon.com/submit?url=http%253A%252F%252Fyoast.com%252F40-wordpress-optimisation-tips%252F&amp;title=40%2520WordPress%2520Optimisation%2520tips';" rel="nofollow">
		<img class="sociable-hovers" alt="StumbleUpon" title="StumbleUpon" src="/img/social_icons/stumbleupon.png"/>
		</a>
	</li>
	</ul>
</div>

	
	<div class="post-footer">
		<img src="/css/img/comments.png" alt="Comments"> <a href="/posts/unit-testing-with-node-js:4b647d40-34e4-435a-a880-3b04cbdd56cb">3 Comments</a> &nbsp; | &nbsp; 
		<img src="/css/img/add_comment.png" alt="Add Comment"> <a href="/posts/unit-testing-with-node-js:4b647d40-34e4-435a-a880-3b04cbdd56cb#CommentAddForm">Add Comment</a>	</div>
	</div>
<div class="post">
	<h2><a href="/posts/git-fake-submodules:4b563ee4-f3cc-4061-967e-0e48cbdd56cb">Git Fake Submodules</a></h2>	<div class="posted-on">
		<p>Posted on 20/1/10 by 
		<a href="/felix">Felix Geisendörfer</a>				</p>
		<div class="thumb">
			<img alt="" src="/img/felix_thumb.jpg"/>		</div>
	</div>
	<div class="body">
				<p>Git submodules suck. They are a pain to use, difficult to explain and you cannot check out partial trees. The later is an inherent limitation of git, but I have a fix for the rest.</p>

<p>Meet fake submodules. The idea is simple, instead of using actual submodules, you just trick git into thinking the files belong to the main repository while having the respective sub-dirs remain independent clones. Doing that is simple:</p>

<pre class="terminal">
$ cd my-project
$ git clone &lt;subproject-url&gt; my-subproject
$ git add my-subproject/
</pre>

<p>The important part is the "/" (slash) at the end of the last command. If you omit that, git will automatically assume you want to add 'my-subproject' as a submodule. But if you don't, git just sees the files in the sub-directory and ignores that fact that its a git-repo of its own.</p>

<p>The cool thing is that you can now update a fake sub-module to the latest version as simple as:</p>

<pre class="terminal">
$ cd my-subproject
$ git pull
</pre>

<p>This works because when you are inside <code>my-subproject</code>, git uses the '.git' folder closest to it which is <code>my-subproject/.git</code>. If the sub project is your own, you could even push your changes to it upstream without changing projects.</p>

<p>Now as far as collaboration is concerned, none of your collaborators will have a clue about your fake submodules. All they will see is some code in some folder. They will not be able to go into the <code>my-subproject</code> folder and git pull on it. However, if they need to do that, they can just <code>rm -rf my-subproject</code> and replace it with a clone themselves.</p>

<p>To me this is a pretty perfect &amp; easy solution. I mostly use it for CakePHP plugins &amp; node.js modules I am working on, but it works just as great with other peoples code you want to depend on. You can even apply hacks against their code, have them in your main repository, and make sure they stay applied on top by using 'git pull --rebase' when updating the sub project.</p>

<p>Let me know what you think!</p>

<p>--fg
<img style="display: none;" src="http://debuggable.com/posts/tick/4b563ee4-f3cc-4061-967e-0e48cbdd56cb"></p>
	</div>
	<div class="clear">&nbsp;</div>
	<div class="social">
	<p class="subscribe">Did you like this blog post? If so, please consider <a href="http://feeds.feedburner.com/debuggable">subscribing to the Blog RSS feed</a>.</p>

	<ul>
	<li class="sociablefirst">
				<a class="linkedin" title="LinkedIn" href="javascript:window.location='http://www.linkedin.com/shareArticle?mini=true&amp;url=http%3A%2F%2Fdebuggable.com%2Fposts%2Fgit-fake-submodules%3A4b563ee4-f3cc-4061-967e-0e48cbdd56cb &amp;title=Git+Fake+Submodules';" rel="nofollow">
			<img class="sociable-hovers" alt="Linked In" title="Linked In" src="/img/social_icons/linkedin.png"/>
		</a>
	</li>
	<li>
		<a class="sphinn" title="Sphinn" href="javascript:window.location='http://sphinn.com/index.php?c=post&amp;m=submit&amp;link=http%3A%2F%2Fdebuggable.com%2Fposts%2Fgit-fake-submodules%3A4b563ee4-f3cc-4061-967e-0e48cbdd56cb';" rel="nofollow">
		<img class="sociable-hovers" alt="Sphinn" title="Sphinn" src="/img/social_icons/sphinn.png"/>
		</a>
	</li>
	<li>
		<a class="digg" title="Digg" href="javascript:window.location='http://digg.com/submit?url=http%3A%2F%2Fdebuggable.com%2Fposts%2Fgit-fake-submodules%3A4b563ee4-f3cc-4061-967e-0e48cbdd56cb&amp;title=Git+Fake+Submodules&amp;bodytext=+..&amp;media=News&amp;topic=Programming';" rel="nofollow">
		<img class="sociable-hovers" alt="Digg" title="Digg" src="/img/social_icons/digg.png"/>
		</a>
	</li>
	<li>
	<a class="del.icio.us" title="del.icio.us" href="javascript:window.location='http://delicious.com/post?url=http%3A%2F%2Fdebuggable.com%2Fposts%2Fgit-fake-submodules%3A4b563ee4-f3cc-4061-967e-0e48cbdd56cb&amp;title=Git+Fake+Submodules';" rel="nofollow">
		<img class="sociable-hovers" alt="Delicious" title="Delicious" src="/img/social_icons/delicious.png"/>
	</a>
	</li>
	<li class="sociablelast">
		<a class="stumbleupon" title="StumbleUpon" href="javascript:window.location='http://www.stumbleupon.com/submit?url=http%253A%252F%252Fyoast.com%252F40-wordpress-optimisation-tips%252F&amp;title=40%2520WordPress%2520Optimisation%2520tips';" rel="nofollow">
		<img class="sociable-hovers" alt="StumbleUpon" title="StumbleUpon" src="/img/social_icons/stumbleupon.png"/>
		</a>
	</li>
	</ul>
</div>

	
	<div class="post-footer">
		<img src="/css/img/comments.png" alt="Comments"> <a href="/posts/git-fake-submodules:4b563ee4-f3cc-4061-967e-0e48cbdd56cb">8 Comments</a> &nbsp; | &nbsp; 
		<img src="/css/img/add_comment.png" alt="Add Comment"> <a href="/posts/git-fake-submodules:4b563ee4-f3cc-4061-967e-0e48cbdd56cb#CommentAddForm">Add Comment</a>	</div>
	</div>
<div class="paging">
	<a href="/posts/index/page:6" class="prev">&laquo; Previous</a> <span><a href="/posts/index/page:3">3</a></span> | <span><a href="/posts/index/page:4">4</a></span> | <span><a href="/posts/index/page:5">5</a></span> | <span><a href="/posts/index/page:6">6</a></span> | <span class="current">7</span> | <span><a href="/posts/index/page:8">8</a></span> | <span><a href="/posts/index/page:9">9</a></span> | <span><a href="/posts/index/page:10">10</a></span> | <span><a href="/posts/index/page:11">11</a></span> <a href="/posts/index/page:8" class="next">Next &raquo;</a></div>	
</div>
<div class="grid_4 prefix_1 omega" id="sidebar">
	<cake:nocache>
			</cake:nocache>

	<h3>RSS Feeds</h3>
	<div id="bug">
		<img src="/img/rss_bug.png" alt="" />	</div>
	<div class="rss">
		<p class="bug-message"></p>
		<a href="http://feeds.feedburner.com/debuggable">Blog RSS</a><br/>
		<a href="http://feeds.feedburner.com/debuggable-comments">Comments RSS</a><br/><br/>
		<img width="88" height="26" alt="" style="border: 0pt none ;" src="http://feeds.feedburner.com/~fc/debuggable?bg=FF9933&amp;fg=444444&amp;anim=0"/>
		<div class="clear"></div>
	</div>

	<h3>Recent Posts</h3>
	<ul>
<li class=""><a href="/posts/releasing-node-mysql-2-0-0-alpha:4fb21c18-7f84-4e8c-a1ef-599bcbdd56cb">Releasing node-mysql 2.0.0-alpha</a></li><li class=""><a href="/posts/how-to-write-jquery-plugins:4f72ab2e-7310-4a74-817a-0a04cbdd56cb">How to write jQuery plugins</a></li><li class=""><a href="/posts/vim-workshop-in-berlin-april-20:4f702b83-ce24-429c-9403-0e39cbdd56cb">Vim Workshop in Berlin (April 20)</a></li><li class=""><a href="/posts/npm-an-intervention:4f44dd25-a114-4361-ada1-6cefcbdd56cb">NPM - An intervention</a></li><li class="active"><a href="/posts/testing-node-js-modules-with-travis-ci:4ec62298-aec4-4ee3-8b5a-2c96cbdd56cb">Testing node.js modules with Travis CI</a></li><li class=""><a href="/posts/private-npm-modules:4e68cc7d-1ac4-42d9-995a-343dcbdd56cb">Private npm modules</a></li></ul>
	<h3>Archive</h3>
	<p class="small align">
		<strong>443 Posts</strong>, <strong>4608 Comments</strong><br /><br />
		We are on air since 2006. Take a tour through the
		<a href="/posts/archive">blog archive</a>.
	</p>
	<div class="search">
	<form id="PostSearchForm" method="post" action="/posts/search"><fieldset style="display:none;"><input type="hidden" name="_method" value="POST" /></fieldset><input name="data[Post][keywords]" type="text" value="" id="PostKeywords" /><input type="submit" class="button" value="Search" /></form>	<div class="clear"></div>
</div>
	<h3>Recent Comments</h3>
	<div class="recent-comments">
		<div class="comment"><a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=23968f0ca75b13463d2db5343e5c2096&size=15&rating=R&d=identicon" alt="" /></a><a href="/posts/releasing-node-mysql-2-0-0-alpha:4fb21c18-7f84-4e8c-a1ef-599bcbdd56cb#comment-4fd32b85-220c-4fc8-84b2-378fcbdd56cb">William: thanks, fixed ..</a></div><div class="clear_left"></div><div class="comment"><a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=b47010beec892f11619d1e81f0c94f11&size=15&rating=R&d=identicon" alt="" /></a><a href="/posts/releasing-node-mysql-2-0-0-alpha:4fb21c18-7f84-4e8c-a1ef-599bcbdd56cb#comment-4fd30119-06fc-4712-aecd-7fa5cbdd56cb">Hi Felix,

The Upgra ..</a></div><div class="clear_left"></div><div class="comment"><a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=99b59e8a9cfe2c5575f0fa90f7f30307&size=15&rating=R&d=identicon" alt="" /></a><a href="/posts/how-to-write-jquery-plugins:4f72ab2e-7310-4a74-817a-0a04cbdd56cb#comment-4f99a4a2-9ad8-4476-b208-611acbdd56cb">Maybe you can write so ..</a></div><div class="clear_left"></div><div class="comment"><a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=8364689a1eefb5eceb6a4f38bbf95731&size=15&rating=R&d=identicon" alt="" /></a><a href="/posts/how-to-write-jquery-plugins:4f72ab2e-7310-4a74-817a-0a04cbdd56cb#comment-4f9651b9-eb88-4096-94c1-0fc2cbdd56cb">This is very nice plug ..</a></div><div class="clear_left"></div><div class="comment"><a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=7e3d69d16d3b845e89198512355b2ac9&size=15&rating=R&d=identicon" alt="" /></a><a href="/posts/how-to-write-jquery-plugins:4f72ab2e-7310-4a74-817a-0a04cbdd56cb#comment-4f8bb75a-96cc-4197-8e93-7c63cbdd56cb">Nice article!

Somet ..</a></div><div class="clear_left"></div><div class="comment"><a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=e57a2bc121063a81e8e6a04aa85cc54f&size=15&rating=R&d=identicon" alt="" /></a><a href="/posts/how-to-write-jquery-plugins:4f72ab2e-7310-4a74-817a-0a04cbdd56cb#comment-4f83326b-8c28-43fc-b70d-097ecbdd56cb">That&#039;s fine ognian, th ..</a></div><div class="clear_left"></div><div class="comment"><a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=994516a664c2bdc728d18c47e935bc14&size=15&rating=R&d=identicon" alt="" /></a><a href="/posts/how-to-write-jquery-plugins:4f72ab2e-7310-4a74-817a-0a04cbdd56cb#comment-4f832a25-5818-4d38-9e39-097ecbdd56cb">Really nice work! I wa ..</a></div><div class="clear_left"></div><div class="comment"><a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=e57a2bc121063a81e8e6a04aa85cc54f&size=15&rating=R&d=identicon" alt="" /></a><a href="/posts/how-to-write-jquery-plugins:4f72ab2e-7310-4a74-817a-0a04cbdd56cb#comment-4f7c15ca-c7c4-48e3-a4db-27decbdd56cb">@Jörn: Sorry, thought  ..</a></div><div class="clear_left"></div><div class="comment"><a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=d5d83832be2b6c70d1968635f68a1b4a&size=15&rating=R&d=identicon" alt="" /></a><a href="/posts/how-to-write-jquery-plugins:4f72ab2e-7310-4a74-817a-0a04cbdd56cb#comment-4f7c11aa-6f9c-448c-abdb-2066cbdd56cb">Thanks didn&#039;t quite un ..</a></div><div class="clear_left"></div><div class="comment"><a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=e57a2bc121063a81e8e6a04aa85cc54f&size=15&rating=R&d=identicon" alt="" /></a><a href="/posts/how-to-write-jquery-plugins:4f72ab2e-7310-4a74-817a-0a04cbdd56cb#comment-4f7bf934-d4e8-4885-9a2c-7a93cbdd56cb">Well you could expose  ..</a></div><div class="clear_left"></div>	</div>
	<div class="clear_left"></div>
	<h3>Keep an eye on</h3>
<ul class="links external">
	<li><a href="http://transloadit.com" title="Video encoding, image resizing and more for your web or mobile app">Transloadit</a></li><li><a href="http://tus.io" title="Resumable file uploading, upload progress bar, faster upload speed">tus - resumable file upload protocol</a></li><li><a href="http://kevin.vanzonneveld.net/">Kevin van Zonneveld</a></li><li><a href="http://www.littlehart.net/atthekeyboard/">Chris Hartjes</a></li><li><a href="http://mark-story.com">Mark Story</a></li><li><a href="http://www.webbosaurus.de">Webbosaurus</a></li></ul>
	<a href='https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Number' title='JavaScript JS Documentation: JS Number Example: Using the Number object to assign values to numeric variables, JavaScript Number Example: Using the Number object to assign values to numeric variables'><img src='http://static.jsconf.us/promotejshs.png' height='150' width='180' alt='JavaScript JS Documentation: JS Number Example: Using the Number object to assign values to numeric variables, JavaScript Number Example: Using the Number object to assign values to numeric variables'/></a>
</div>

						<div class="clear">&nbsp;</div>
		</div>

		<div id="footer">
			<div class="container_16">
				<ul id="footer_navigation">
					<ul>
<li class="active"><a href="/blog">Blog</a></li><li class=""><a href="/">About</a></li></ul>				</ul>
				<p>&copy; 2008 - 2015, Debuggable Ltd. All rights reserved.
				<i>Designed by <a href="http://www.fluidcore.net" target="_blank">fluidCORE</a>.</i>
			</div>
		</div>
	</div>
	<script type="text/javascript" src="/js/aggregate/58a4727fb2207154ddd0739cbc3b15104ad6cd03/5627ea2806458e56fb8a5f4b231a44c2.php"></script><script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-3306079-3']);
_gaq.push(['_trackPageview']);
(function() {
var ga = document.createElement('script');
ga.src = ('https:' == document.location.protocol ?
    'https://ssl' : 'http://www') +
    '.google-analytics.com/ga.js';
ga.setAttribute('async', 'true');
document.documentElement.firstChild.appendChild(ga);
})();
</script></body>
</html>
