<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> 
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
	<title>CakePHP Authsome - Debuggable's Xmas Gift &raquo; Debuggable - Node.js Consulting</title>

	<link href="http://feeds.feedburner.com/debuggable" type="application/rss+xml" rel="alternate" title="RSS 2.0" />	<link rel="pingback" href="Debuggable.com/pingback" />
	<link rel="stylesheet" type="text/css" href="/css/aggregate/58a4727fb2207154ddd0739cbc3b15104ad6cd03/4026ee2275e22a4e5ec8aea13747c557.php" /></head>
	<body>
		<div class="container_16">
			<h1 id="logo-text"><a href="/">debuggable</a></h1>
			<ul id="navigation">
				<ul>
<li class=""><a href="/blog">Blog</a></li><li class="active"><a href="/">About</a></li></ul>			</ul>
			<div class="clear">&nbsp;</div>

			<div id="blueprint">
				<a href="/contact" class="contact">Contact Us</a>			</div>

			<div class="clear">&nbsp;</div>
			<div class="grid_11 alpha" id="content">
	<cake:nocache>
			<div class="messages empty"></div>
	</cake:nocache>
	<div class="post">
	<h2><a href="/posts/cakephp-authsome-debuggable-s-xmas-gift:4b34b4e6-9ca4-4673-bea6-4776cbdd56cb">CakePHP Authsome - Debuggable's Xmas Gift</a></h2>	<div class="posted-on">
		<p>Posted on 25/12/09 by 
		<a href="/felix">Felix Geisend√∂rfer</a>				</p>
		<div class="thumb">
			<img alt="" src="/img/felix_thumb.jpg"/>		</div>
	</div>
	<div class="body">
				<p>Merry Xmas everybody. We hope you are having a lovely time and get to renew the batteries for an awesome 2010 over the holidays.</p>

<p>To ease the withdrawal symptoms, Tim and I decided to do some light development over the holidays in order to create a little Xmas gift for the CakePHP community:</p>

<p><a href="http://github.com/felixge/cakephp-authsome">The Authsome plugin</a>: Authentication for people who hate the AuthComponent.</p>

<p>We have been using a system very similar to Authsome for all our CakePHP projects over the years, but it wasn't until now that we had a chance to properly decouple it from the individual projects we used it in. A big thanks for that goes to <a href="http://threeleaf.tv/">ThreeLeaf Creative</a>, the makers of a fantastic CakePHP CMS system who paid for the refactoring.</p>

<p>Next on the radar is Righteful: Acl for people who hate the Acl component. We hope to have it ready at some point early next year.</p>

<p>Alright, so go ahead and <a href="http://github.com/felixge/cakephp-authsome">read the authsome docs</a> over at Github and let us know what you think.</p>

<p>Merry Xmas,</p>

<p>-- Tim &amp; Felix
<img style="display: none;" src="http://debuggable.com/posts/tick/4b34b4e6-9ca4-4673-bea6-4776cbdd56cb"></p>
	</div>
	<div class="clear">&nbsp;</div>
	<div class="social">
	<p class="subscribe">Did you like this blog post? If so, please consider <a href="http://feeds.feedburner.com/debuggable">subscribing to the Blog RSS feed</a>.</p>

	<ul>
	<li class="sociablefirst">
				<a class="linkedin" title="LinkedIn" href="javascript:window.location='http://www.linkedin.com/shareArticle?mini=true&amp;url=http%3A%2F%2Fdebuggable.com%2Fposts%2Fcakephp-authsome-debuggable-s-xmas-gift%3A4b34b4e6-9ca4-4673-bea6-4776cbdd56cb &amp;title=CakePHP+Authsome+-+Debuggable%27s+Xmas+Gift';" rel="nofollow">
			<img class="sociable-hovers" alt="Linked In" title="Linked In" src="/img/social_icons/linkedin.png"/>
		</a>
	</li>
	<li>
		<a class="sphinn" title="Sphinn" href="javascript:window.location='http://sphinn.com/index.php?c=post&amp;m=submit&amp;link=http%3A%2F%2Fdebuggable.com%2Fposts%2Fcakephp-authsome-debuggable-s-xmas-gift%3A4b34b4e6-9ca4-4673-bea6-4776cbdd56cb';" rel="nofollow">
		<img class="sociable-hovers" alt="Sphinn" title="Sphinn" src="/img/social_icons/sphinn.png"/>
		</a>
	</li>
	<li>
		<a class="digg" title="Digg" href="javascript:window.location='http://digg.com/submit?url=http%3A%2F%2Fdebuggable.com%2Fposts%2Fcakephp-authsome-debuggable-s-xmas-gift%3A4b34b4e6-9ca4-4673-bea6-4776cbdd56cb&amp;title=CakePHP+Authsome+-+Debuggable%27s+Xmas+Gift&amp;bodytext=+..&amp;media=News&amp;topic=Programming';" rel="nofollow">
		<img class="sociable-hovers" alt="Digg" title="Digg" src="/img/social_icons/digg.png"/>
		</a>
	</li>
	<li>
	<a class="del.icio.us" title="del.icio.us" href="javascript:window.location='http://delicious.com/post?url=http%3A%2F%2Fdebuggable.com%2Fposts%2Fcakephp-authsome-debuggable-s-xmas-gift%3A4b34b4e6-9ca4-4673-bea6-4776cbdd56cb&amp;title=CakePHP+Authsome+-+Debuggable%27s+Xmas+Gift';" rel="nofollow">
		<img class="sociable-hovers" alt="Delicious" title="Delicious" src="/img/social_icons/delicious.png"/>
	</a>
	</li>
	<li class="sociablelast">
		<a class="stumbleupon" title="StumbleUpon" href="javascript:window.location='http://www.stumbleupon.com/submit?url=http%253A%252F%252Fyoast.com%252F40-wordpress-optimisation-tips%252F&amp;title=40%2520WordPress%2520Optimisation%2520tips';" rel="nofollow">
		<img class="sociable-hovers" alt="StumbleUpon" title="StumbleUpon" src="/img/social_icons/stumbleupon.png"/>
		</a>
	</li>
	</ul>
</div>
	<div class="related-posts">
		<h3>(Theoretically) Related Posts</h3>
				<ul class="first">
							<li><a href="/posts/How_to_Fetch_the_ENUM_Options_of_a_Field_The_CakePHP_Enumerable_Behavior:4a977c9b-1bdc-44b4-b027-1a54cbdd56cb">How to Fetch the ENUM Options of a Field - The CakePHP Enumerable Behavior</a></li>
							<li><a href="/posts/toogleing-associations-in-cakephp-models:480f4dd5-58b0-4ecf-bf4d-4637cbdd56cb">Toggling Associations in CakePHP Models</a></li>
							<li><a href="/posts/learning-from-the-cakephp-source-code-part-ii:480f4dd6-57fc-4715-8709-439acbdd56cb">Learning from the CakePHP source code - Part II</a></li>
							<li><a href="/posts/modeling-relationships-in-cakephp-faking-rails-throughassociation:480f4dd6-b990-485e-abe4-4baccbdd56cb">Modeling relationships in CakePHP (faking Rails&#039; ThroughAssociation)</a></li>
							<li><a href="/posts/cakephp-workshop-in-raleigh-nc-sep-6-to-7:488a234d-39fc-4d06-9c57-65aa4834cda3">CakePHP Workshop in Raleigh, NC (Sep 6-7)</a></li>
					</ul>
		<ul>
							<li><a href="/posts/slides-for-my-cakephp-unit-testing-talk:480f4dfe-4880-4b82-9a52-4bd8cbdd56cb">Slides for my CakePHP Unit Testing Talk</a></li>
							<li><a href="/posts/make-your-life-easier-with-these-five-cakephp-quicktips:48170ee5-0cc0-4815-af60-7c264834cda3">Make your life easier with these five CakePHP Quicktips</a></li>
							<li><a href="/posts/extra-hot-cakephp-1.2-stable-is-finally-released!:4954151c-f87c-434b-abbd-4e404834cda3">Extra Hot: CakePHP 1.2 Stable is finally released!</a></li>
							<li><a href="/posts/migrating-from-wordpress-to-cakephp:480f4dd6-ef28-4881-b74f-4185cbdd56cb">Migrating from WordPress to CakePHP</a></li>
							<li><a href="/posts/how-to-have-multiple-paginated-widgets-on-the-same-page-with-cakephp:48ad241e-b018-4532-a748-0ec74834cda3">How to have multiple paginated widgets on the same page with CakePHP</a></li>
					</ul>
	</div>
	<div class="clear">&nsbp;</div>

			<p>You can <a href="#comment_form">skip to the end</a> and add a comment.</p>
	
	<div class="post-footer">
		<img src="/css/img/comments.png" alt="Comments"> <a href="/posts/cakephp-authsome-debuggable-s-xmas-gift:4b34b4e6-9ca4-4673-bea6-4776cbdd56cb">22 Comments</a> &nbsp; | &nbsp; 
		<img src="/css/img/add_comment.png" alt="Add Comment"> <a href="/posts/cakephp-authsome-debuggable-s-xmas-gift:4b34b4e6-9ca4-4673-bea6-4776cbdd56cb#CommentAddForm">Add Comment</a>	</div>
	<div class="post_comments">
	<div class="clear"></div>
									<div id="comment-4b35300e-3840-406f-a21a-5f13cbdd56cb" class="blogcomment">
				<span class="author">
					<a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=357396a03c367b4228bc9eb8b8691805&size=31&rating=R&d=identicon" alt="" /></a>					<div>
						<strong class="author-name">
							<a href="http://www.wizardcomputing.com" rel="nofollow">Francis</a>						</strong>
						<strong>said 
						on Dec 25, 2009:</strong>
					</div>
				</span>
				<div class="clear"></div>
				<div class="body">
					<p>Thank you! And also thank ThreeLeaf. This just helps everybody, you guys write some elegant code and I would love for this to be picked up by the core. I look forward to Righteful.</p>
<p>Happy holidays and take some time off for the new year!</p>
				</div>
				<div class="clear"></div>
							</div>
	  						<div id="comment-4b353ff6-6984-449b-887c-61aacbdd56cb" class="blogcomment">
				<span class="author">
					<a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=5d98dd6c06dc8b78e06396b3180c310a&size=31&rating=R&d=identicon" alt="" /></a>					<div>
						<strong class="author-name">
							leo&nbsp;						</strong>
						<strong>said 
						on Dec 25, 2009:</strong>
					</div>
				</span>
				<div class="clear"></div>
				<div class="body">
					<p>Good stuff, thanks for the efforts - also looking forward to Rightful :)<br />
Merry Xmas to you, too!</br></p>
<p>-- Leo</p>
				</div>
				<div class="clear"></div>
							</div>
	  						<div id="comment-4b357ae3-b24c-46dc-bd99-6af0cbdd56cb" class="blogcomment">
				<span class="author">
					<a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=d5c52ea248b66db94421a34e60c284e2&size=31&rating=R&d=identicon" alt="" /></a>					<div>
						<strong class="author-name">
							10drill&nbsp;						</strong>
						<strong>said 
						on Dec 26, 2009:</strong>
					</div>
				</span>
				<div class="clear"></div>
				<div class="body">
					<p>Thanks for this, I'm not a huge fan of the AuthComponent and look forward to trying Authsome. One question: how well does it play with 1.3-dev?</p>
				</div>
				<div class="clear"></div>
							</div>
	  						<div id="comment-4b364d15-9e24-46a9-856d-0d82cbdd56cb" class="blogcomment">
				<span class="author">
					<a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=a7599711ddd2f35c9d3bcfb3847a1bf3&size=31&rating=R&d=identicon" alt="" /></a>					<div>
						<strong class="author-name">
							Ramiro Araujo&nbsp;						</strong>
						<strong>said 
						on Dec 26, 2009:</strong>
					</div>
				</span>
				<div class="clear"></div>
				<div class="body">
					<p>Thanks a lot! already implemented and fully working :)</p>
<p>I did have a little problem or lack of direction checking for a logged in user. If I don't supply a guest solution, it throws an exception (as it's clearly marked). I replaced the Auth component for this one for the admin area of a site, so basically the "solution" was to manually supply a guest user with id 0, and check for that in the beforeFilter, if the params['admin'] was set. Im sure it's a bit messy. I would love to see an admin area implementation example for this component in the future.</p>
<p>Thanks a lot!</p>
				</div>
				<div class="clear"></div>
							</div>
	  						<div id="comment-4b365ed5-6980-4fdc-9197-1111cbdd56cb" class="blogcomment admin">
				<span class="author">
					<a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=23968f0ca75b13463d2db5343e5c2096&size=31&rating=R&d=identicon" alt="" /></a>					<div>
						<strong class="author-name">
							<a href="http://debuggable.com/felix" rel="nofollow">Felix Geisend√∂rfer</a>						</strong>
						<strong>said 
						on Dec 26, 2009:</strong>
					</div>
				</span>
				<div class="clear"></div>
				<div class="body">
					<p>10drill: It should be 100% 1.3-dev compatible, if not let me know and I'll fix it.</p>
<p>Ramiro Araujo: I just made a small update that allows you to return an empty array for the 'guest' type. Now you can check for a guest account as simple as this:</p>
<div class="clear"></div>
<div class="code debuggable_sh_php" style="white-space: wrap;white-space: nowrap;">
<span class="kw1">if</span> <span class="br0">&#40;</span>!Authsome::<span class="me2">get</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span><br />
&nbsp; <span class="co1">// only do if logged in</span></br><br />
<span class="br0">&#125;</span></br></div>
<p>Let me know if that helps!</p>
<p>(Commit is here: <a href="http://github.com/felixge/cakephp-authsome/commit/b096bc67e81053b095f297e7770210363d4de863">b096bc</a> )</p>
				</div>
				<div class="clear"></div>
							</div>
	  						<div id="comment-4b388c92-4b68-4b81-a732-6d18cbdd56cb" class="blogcomment">
				<span class="author">
					<a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=2c0afa230dbd049543aefc57c1c7e8d5&size=31&rating=R&d=identicon" alt="" /></a>					<div>
						<strong class="author-name">
							<a href="http://www.bastianalbers.de" rel="nofollow">Bastian Albers</a>						</strong>
						<strong>said 
						on Dec 28, 2009:</strong>
					</div>
				</span>
				<div class="clear"></div>
				<div class="body">
					<p>Thanks a lot! Seems to work very much like the stuff i did for projects, but in a way that is actually reusable, elegant and clever.</p>
				</div>
				<div class="clear"></div>
							</div>
	  						<div id="comment-4b39f9f4-e6dc-4d16-adab-2922cbdd56cb" class="blogcomment">
				<span class="author">
					<a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=d5c52ea248b66db94421a34e60c284e2&size=31&rating=R&d=identicon" alt="" /></a>					<div>
						<strong class="author-name">
							10drill&nbsp;						</strong>
						<strong>said 
						on Dec 29, 2009:</strong>
					</div>
				</span>
				<div class="clear"></div>
				<div class="body">
					<p>Confirming Authsome works fine with 1.3-alpha and 1.3-dev, I've (quickly!) added it to four 1.3 projects and not run into any problems. Thanks again!</p>
				</div>
				<div class="clear"></div>
							</div>
	  						<div id="comment-4b3be820-7b94-4f01-89c8-063bcbdd56cb" class="blogcomment">
				<span class="author">
					<a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=47f86c52f0da1c876fa6f24aa7778a78&size=31&rating=R&d=identicon" alt="" /></a>					<div>
						<strong class="author-name">
							Hendler&nbsp;						</strong>
						<strong>said 
						on Dec 30, 2009:</strong>
					</div>
				</span>
				<div class="clear"></div>
				<div class="body">
					<p>Awesome stuff, as usual from debuggable.</p>
<p>Any good examples of how to integrate with Facebook Connect, Twitter/Google Oauth, etc? eg. would you pass a type to<br />
<div class="clear"></div>
<div class="code debuggable_sh_php" style="white-space: wrap;white-space: nowrap;">
authsomeLogin<span class="br0">&#40;</span><span class="br0">&#41;</span></div>
<p> ?</p>
</br></p>				</div>
				<div class="clear"></div>
							</div>
	  						<div id="comment-4b3f4d6c-2f14-4a48-a32f-1176cbdd56cb" class="blogcomment admin">
				<span class="author">
					<a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=23968f0ca75b13463d2db5343e5c2096&size=31&rating=R&d=identicon" alt="" /></a>					<div>
						<strong class="author-name">
							<a href="http://debuggable.com/felix" rel="nofollow">Felix Geisend√∂rfer</a>						</strong>
						<strong>said 
						on Jan 02, 2010:</strong>
					</div>
				</span>
				<div class="clear"></div>
				<div class="body">
					<p>@Hendler I don't have an example for you, but yes - you would hook this into authsomeLogin in your model.</p>
				</div>
				<div class="clear"></div>
							</div>
	  						<div id="comment-4b440a98-a4e8-4104-946d-2c59cbdd56cb" class="blogcomment">
				<span class="author">
					<a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=9c9c3e36743288b6abd5b5b8118b281a&size=31&rating=R&d=identicon" alt="" /></a>					<div>
						<strong class="author-name">
							BillyBob&nbsp;						</strong>
						<strong>said 
						on Jan 06, 2010:</strong>
					</div>
				</span>
				<div class="clear"></div>
				<div class="body">
					<p>Great work!! Thanks!!<br />
But..... I can't help but notice that you said in 2008 that you would post every day!!!</br><br />
Don't worry, I won't hold you to it lol.</br><br />
Thankyou again for this...</br></p>
				</div>
				<div class="clear"></div>
							</div>
	  						<div id="comment-4b46f191-cb10-4501-8a92-29c1cbdd56cb" class="blogcomment admin">
				<span class="author">
					<a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=23968f0ca75b13463d2db5343e5c2096&size=31&rating=R&d=identicon" alt="" /></a>					<div>
						<strong class="author-name">
							<a href="http://debuggable.com/felix" rel="nofollow">Felix Geisend√∂rfer</a>						</strong>
						<strong>said 
						on Jan 08, 2010:</strong>
					</div>
				</span>
				<div class="clear"></div>
				<div class="body">
					<p>BillyBob: I think that was a 30 day challenge IIRC : ).</p>
				</div>
				<div class="clear"></div>
							</div>
	  						<div id="comment-4b63c52b-d4d0-4ff8-95c0-129ccbdd56cb" class="blogcomment">
				<span class="author">
					<a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=c78e04a68c677fc2cb7325b1f808c304&size=31&rating=R&d=identicon" alt="" /></a>					<div>
						<strong class="author-name">
							rich97&nbsp;						</strong>
						<strong>said 
						on Jan 30, 2010:</strong>
					</div>
				</span>
				<div class="clear"></div>
				<div class="body">
					<p>Thank you so much for Authsome, I have been recommending it to anyone I can. I think it's as close as you can get to perfect Auth Control in Cake.</p>
<p>I know your busy and it's not that I don't appreciate what you have given us already but please, please, please hurry up Righteful. I'm writing my own component to extend Authsome to support ACL but as hard as I try I highly doubt it will be even close to this quality.</p>
<p>Keep up the good work, and please don't keep us hanging. :)</p>
				</div>
				<div class="clear"></div>
							</div>
	  						<div id="comment-4b66ce81-4ae4-4e83-aa7f-04c0cbdd56cb" class="blogcomment">
				<span class="author">
					<a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=a20a5c047f117bee9b95100d2a09546d&size=31&rating=R&d=identicon" alt="" /></a>					<div>
						<strong class="author-name">
							<a href="http://www.maycreate.com" rel="nofollow">Rob</a>						</strong>
						<strong>said 
						on Feb 01, 2010:</strong>
					</div>
				</span>
				<div class="clear"></div>
				<div class="body">
					<p>I have to second rich97's comments.  </p>
<p>Thanks again for all your hard work...it does not go unappreciated!</p>
<p>Rob</p>
				</div>
				<div class="clear"></div>
							</div>
	  						<div id="comment-4b67fe36-2620-4f95-ad06-721acbdd56cb" class="blogcomment">
				<span class="author">
					<a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=99399e1b077164a5ee15a8d3230bff32&size=31&rating=R&d=identicon" alt="" /></a>					<div>
						<strong class="author-name">
							Synoptase&nbsp;						</strong>
						<strong>said 
						on Feb 02, 2010:</strong>
					</div>
				</span>
				<div class="clear"></div>
				<div class="body">
					<p>Thanks for the component ! I'm trying to implement it on a fresh cakephp 1.3 app, but i'm having a bit of a hard time, especially with the cookie part.</p>
<p>I get an 'Undefined Property User::LoginToken' in my User::authSomeLogin function in the user.php model. Is this... normal ?</p>
<p>Cheers,</p>
				</div>
				<div class="clear"></div>
							</div>
	  						<div id="comment-4bbe7b8a-deec-499a-a732-333bcbdd56cb" class="blogcomment">
				<span class="author">
					<a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=cddd845778affc94b6f5913c57d1e96b&size=31&rating=R&d=identicon" alt="" /></a>					<div>
						<strong class="author-name">
							<a href="http://www.jacmoe.dk/" rel="nofollow">jacmoe</a>						</strong>
						<strong>said 
						on Apr 09, 2010:</strong>
					</div>
				</span>
				<div class="clear"></div>
				<div class="body">
					<p>Authsome component! :)</p>
<p>Very easy to use and integrate into your projects. Kudos to Debuggable for making it available.</p>
<p>However:<br />
I've found a bug in the component.</br><br />
Well, it's not strictly a bug, but it has bug-like consequences.</br></p>
<p>In function login, there's this piece of innocent code:</p>
<div class="clear"></div>
<div class="code debuggable_sh_php" style="white-space: wrap;white-space: nowrap;">
Configure::<span class="me2">write</span><span class="br0">&#40;</span><span class="re0">$this</span>-&gt;<span class="me1">settings</span><span class="br0">&#91;</span><span class="st0">'configureKey'</span><span class="br0">&#93;</span>, <span class="re0">$user</span><span class="br0">&#41;</span>;<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span class="re0">$this</span>-&gt;<span class="me1">Session</span>-&gt;<span class="me1">write</span><span class="br0">&#40;</span><span class="re0">$this</span>-&gt;<span class="me1">settings</span><span class="br0">&#91;</span><span class="st0">'sessionKey'</span><span class="br0">&#93;</span>, <span class="re0">$user</span><span class="br0">&#41;</span>;</br><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">return</span> <span class="re0">$user</span>;</br></div>
<p>In my application, this meant that almost my entire database was stored in the session! :D</p>
<p>I changed it to this:</p>
<div class="clear"></div>
<div class="code debuggable_sh_php" style="white-space: wrap;white-space: nowrap;">
<span class="re0">$userModel</span>-&gt;<span class="me1">contain</span><span class="br0">&#40;</span><span class="br0">&#41;</span>;<br />
&nbsp; &nbsp; &nbsp; &nbsp; Configure::<span class="me2">write</span><span class="br0">&#40;</span><span class="re0">$this</span>-&gt;<span class="me1">settings</span><span class="br0">&#91;</span><span class="st0">'configureKey'</span><span class="br0">&#93;</span>, <span class="re0">$user</span><span class="br0">&#41;</span>;</br><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span class="re0">$this</span>-&gt;<span class="me1">Session</span>-&gt;<span class="me1">write</span><span class="br0">&#40;</span><span class="re0">$this</span>-&gt;<span class="me1">settings</span><span class="br0">&#91;</span><span class="st0">'sessionKey'</span><span class="br0">&#93;</span>, <span class="re0">$user</span><span class="br0">&#41;</span>;</br><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">return</span> <span class="re0">$user</span>;</br></div>
<p>I know that I am relying on my user model being containable, but now my session is not carrying the entire database anymore.</p>
				</div>
				<div class="clear"></div>
							</div>
	  						<div id="comment-4bbed640-f368-499f-b1cc-40f5cbdd56cb" class="blogcomment admin">
				<span class="author">
					<a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=23968f0ca75b13463d2db5343e5c2096&size=31&rating=R&d=identicon" alt="" /></a>					<div>
						<strong class="author-name">
							<a href="http://debuggable.com/felix" rel="nofollow">Felix Geisend√∂rfer</a>						</strong>
						<strong>said 
						on Apr 09, 2010:</strong>
					</div>
				</span>
				<div class="clear"></div>
				<div class="body">
					<p>Synoptase: Yes, the LoginToken code is not included with Authsome directly, it's only part of the tutorial which you need to follow step by step.</p>
<p>jacmoe: You can use the contain() call in your model's authsomeLogin function, I don't think authsome needs to be changed here.</p>
				</div>
				<div class="clear"></div>
							</div>
	  						<div id="comment-4bc6c48c-14f8-493a-a765-1451cbdd56cb" class="blogcomment">
				<span class="author">
					<a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=67f133e0919845d536d39daefba48616&size=31&rating=R&d=identicon" alt="" /></a>					<div>
						<strong class="author-name">
							AxlF&nbsp;						</strong>
						<strong>said 
						on Apr 15, 2010:</strong>
					</div>
				</span>
				<div class="clear"></div>
				<div class="body">
					<p>Hey Felix,</p>
<p>i tried to figure out why you don't like the Auth Component?<br />
Where do you ran in problems using auth component?</br></p>
<p>Regards,<br />
AxlF</br></p>
				</div>
				<div class="clear"></div>
							</div>
	  						<div id="comment-4bc6c5be-8564-4c1d-91c3-219dcbdd56cb" class="blogcomment admin">
				<span class="author">
					<a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=23968f0ca75b13463d2db5343e5c2096&size=31&rating=R&d=identicon" alt="" /></a>					<div>
						<strong class="author-name">
							<a href="http://debuggable.com/felix" rel="nofollow">Felix Geisend√∂rfer</a>						</strong>
						<strong>said 
						on Apr 15, 2010:</strong>
					</div>
				</span>
				<div class="clear"></div>
				<div class="body">
					<p>AxIF: It does more than it should, and makes the subset I'm interested in (authentication) much harder.</p>
				</div>
				<div class="clear"></div>
							</div>
	  						<div id="comment-4bd79c09-4a0c-4ee7-8ce3-1542cbdd56cb" class="blogcomment">
				<span class="author">
					<a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=45ad758e00adf3c8808c09396f969965&size=31&rating=R&d=identicon" alt="" /></a>					<div>
						<strong class="author-name">
							<a href="http://www.codershop.com" rel="nofollow">Ryan Oldham</a>						</strong>
						<strong>said 
						on Apr 28, 2010:</strong>
					</div>
				</span>
				<div class="clear"></div>
				<div class="body">
					<p>First, I love the Authsome component.  I'm already using it in multiple projects.  Second, I could really use the Righteful component.  I've been thinking of writing my own in the same fashion of Authsome, but I'd rather help with Righteful.  I like the way you guys think.  Please let me know how I can help.</p>
				</div>
				<div class="clear"></div>
							</div>
	  						<div id="comment-4bd7a29f-4d00-4c78-8ca2-1542cbdd56cb" class="blogcomment">
				<span class="author">
					<a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=c78e04a68c677fc2cb7325b1f808c304&size=31&rating=R&d=identicon" alt="" /></a>					<div>
						<strong class="author-name">
							rich97&nbsp;						</strong>
						<strong>said 
						on Apr 28, 2010:</strong>
					</div>
				</span>
				<div class="clear"></div>
				<div class="body">
					<p>@Ryan:</p>
<p>I don't know what the current status of Righteful is, and if it is an already active project I would like to help with that. But I asked Felix about it briefly on IRC a while ago and he said something along the lines of; "no one has sponsored the development and we have no need for it yet so it has been put on hold". And I believe he is focusing on node.js right now judging from his github activity.</p>
<p>So I decided to start my own repository called "AclPlus". The name isn't as cool as "Righteful" but I'm trying to achieve a similar goal, cause I do love Authsome so very much.</p>
<p>It's still very young in development and has been neglected over the last few weeks but if you would like to have a look at the very basic functionality it does have, and possibly contribute, you can see/fork it here:</p>
<p><a rel="nofollow" href="http://github.com/rich97/AclPlus">http://github.com/rich97/AclPlus</a></p>
				</div>
				<div class="clear"></div>
							</div>
	  						<div id="comment-4be0d110-2bf0-48f6-87da-312ecbdd56cb" class="blogcomment">
				<span class="author">
					<a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=7c4732a97451fe7594a2765246fc82e9&size=31&rating=R&d=identicon" alt="" /></a>					<div>
						<strong class="author-name">
							Anders&nbsp;						</strong>
						<strong>said 
						on May 05, 2010:</strong>
					</div>
				</span>
				<div class="clear"></div>
				<div class="body">
					<p>I have a question about Authsome.</p>
<p>It works great, and was easy to implement (even for a first time user of CakePHP such as myself).</p>
<p>Anyways, I'm currently doing some testing with the cookie login (I've made all the loginTokens stuff), and this is what I do.</p>
<p>I login to my application with user/pass and check off the 'remeber me' tickoff. I see that there is an loginToken created in my DB, and I get an CakeCookie[User] cookie.</p>
<p>Then I quit my browser, and delete the session from the server (if not, I'll have to wait for the session to time out).</p>
<p>I then open my browser again, and go straight to an action that has $this->log(Authsome::get('email'), 'debug'); to see if I can login with cookies and see my email.</p>
<p>The result I get in my logs are:<br />
Notice: Notice (8): Undefined offset: 1 in [/home/turritt/public_html/test.turritt/app/models/user.php, line 25]</br></p>
<p>This line is the following in my authsomeLogin function:<br />
list($token, $userId) = split(':', $credentials['token']);</br></p>
<p>So, after some checking, I print the $credentials['token'] in my authsomeLogin function, but this is empty.<br />
I also try to print $token in authsome.php:__useCookieToken(), and here it returns:</br></p>
<p>?m??*w<br />
{??o??$q???Q1??N?E???t??C?*??d</br></p>
<p>So, something is wrong somewhere, but I really don't know what...</p>
				</div>
				<div class="clear"></div>
							</div>
	  						<div id="comment-4be0d33f-a5c4-4cd8-8177-312ecbdd56cb" class="blogcomment">
				<span class="author">
					<a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=7c4732a97451fe7594a2765246fc82e9&size=31&rating=R&d=identicon" alt="" /></a>					<div>
						<strong class="author-name">
							Anders&nbsp;						</strong>
						<strong>said 
						on May 05, 2010:</strong>
					</div>
				</span>
				<div class="clear"></div>
				<div class="body">
					<p>Ofcourse, right after I posted the last post, I found the problem.</p>
<p>If I in authsome.php:persist set<br />
<code>return $this->Cookie->write(<br />
			$this->settings['cookieKey'],</br><br />
			$token,</br><br />
			true,</br><br />
			$duration</br><br />
		);</br></code></br><br />
to</br></p>
<p><code><br />
return $this->Cookie->write(</br><br />
			$this->settings['cookieKey'],</br><br />
			$token,</br><br />
			<strong>false</strong>,</br><br />
			$duration</br><br />
		);</br></code></p>
<p>it works.</p>
<p>So, there's something wrong with decrypting of the cookies somewhere...</p>
				</div>
				<div class="clear"></div>
							</div>
	  	
				<div class="divider"></div>
		<a name="comment_form"></a>
		<p>This post is too old. We do not allow comments here anymore in order to fight spam. If you have real feedback or questions for the post, please <a href="/contact">contact us</a>.</p>
	</div></div>
	
</div>
<div class="grid_4 prefix_1 omega" id="sidebar">
	<cake:nocache>
			</cake:nocache>

	<h3>RSS Feeds</h3>
	<div id="bug">
		<img src="/img/rss_bug.png" alt="" />	</div>
	<div class="rss">
		<p class="bug-message"></p>
		<a href="http://feeds.feedburner.com/debuggable">Blog RSS</a><br/>
		<a href="http://feeds.feedburner.com/debuggable-comments">Comments RSS</a><br/><br/>
		<img width="88" height="26" alt="" style="border: 0pt none ;" src="http://feeds.feedburner.com/~fc/debuggable?bg=FF9933&amp;fg=444444&amp;anim=0"/>
		<div class="clear"></div>
	</div>

	<h3>Recent Posts</h3>
	<ul>
<li class=""><a href="/posts/releasing-node-mysql-2-0-0-alpha:4fb21c18-7f84-4e8c-a1ef-599bcbdd56cb">Releasing node-mysql 2.0.0-alpha</a></li><li class=""><a href="/posts/how-to-write-jquery-plugins:4f72ab2e-7310-4a74-817a-0a04cbdd56cb">How to write jQuery plugins</a></li><li class=""><a href="/posts/vim-workshop-in-berlin-april-20:4f702b83-ce24-429c-9403-0e39cbdd56cb">Vim Workshop in Berlin (April 20)</a></li><li class=""><a href="/posts/npm-an-intervention:4f44dd25-a114-4361-ada1-6cefcbdd56cb">NPM - An intervention</a></li><li class="active"><a href="/posts/testing-node-js-modules-with-travis-ci:4ec62298-aec4-4ee3-8b5a-2c96cbdd56cb">Testing node.js modules with Travis CI</a></li><li class=""><a href="/posts/private-npm-modules:4e68cc7d-1ac4-42d9-995a-343dcbdd56cb">Private npm modules</a></li></ul>
	<h3>Archive</h3>
	<p class="small align">
		<strong>443 Posts</strong>, <strong>4608 Comments</strong><br /><br />
		We are on air since 2006. Take a tour through the
		<a href="/posts/archive">blog archive</a>.
	</p>
	<div class="search">
	<form id="PostSearchForm" method="post" action="/posts/search"><fieldset style="display:none;"><input type="hidden" name="_method" value="POST" /></fieldset><input name="data[Post][keywords]" type="text" value="" id="PostKeywords" /><input type="submit" class="button" value="Search" /></form>	<div class="clear"></div>
</div>
	<h3>Recent Comments</h3>
	<div class="recent-comments">
		<div class="comment"><a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=23968f0ca75b13463d2db5343e5c2096&size=15&rating=R&d=identicon" alt="" /></a><a href="/posts/releasing-node-mysql-2-0-0-alpha:4fb21c18-7f84-4e8c-a1ef-599bcbdd56cb#comment-4fd32b85-220c-4fc8-84b2-378fcbdd56cb">William: thanks, fixed ..</a></div><div class="clear_left"></div><div class="comment"><a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=b47010beec892f11619d1e81f0c94f11&size=15&rating=R&d=identicon" alt="" /></a><a href="/posts/releasing-node-mysql-2-0-0-alpha:4fb21c18-7f84-4e8c-a1ef-599bcbdd56cb#comment-4fd30119-06fc-4712-aecd-7fa5cbdd56cb">Hi Felix,

The Upgra ..</a></div><div class="clear_left"></div><div class="comment"><a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=99b59e8a9cfe2c5575f0fa90f7f30307&size=15&rating=R&d=identicon" alt="" /></a><a href="/posts/how-to-write-jquery-plugins:4f72ab2e-7310-4a74-817a-0a04cbdd56cb#comment-4f99a4a2-9ad8-4476-b208-611acbdd56cb">Maybe you can write so ..</a></div><div class="clear_left"></div><div class="comment"><a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=8364689a1eefb5eceb6a4f38bbf95731&size=15&rating=R&d=identicon" alt="" /></a><a href="/posts/how-to-write-jquery-plugins:4f72ab2e-7310-4a74-817a-0a04cbdd56cb#comment-4f9651b9-eb88-4096-94c1-0fc2cbdd56cb">This is very nice plug ..</a></div><div class="clear_left"></div><div class="comment"><a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=7e3d69d16d3b845e89198512355b2ac9&size=15&rating=R&d=identicon" alt="" /></a><a href="/posts/how-to-write-jquery-plugins:4f72ab2e-7310-4a74-817a-0a04cbdd56cb#comment-4f8bb75a-96cc-4197-8e93-7c63cbdd56cb">Nice article!

Somet ..</a></div><div class="clear_left"></div><div class="comment"><a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=e57a2bc121063a81e8e6a04aa85cc54f&size=15&rating=R&d=identicon" alt="" /></a><a href="/posts/how-to-write-jquery-plugins:4f72ab2e-7310-4a74-817a-0a04cbdd56cb#comment-4f83326b-8c28-43fc-b70d-097ecbdd56cb">That&#039;s fine ognian, th ..</a></div><div class="clear_left"></div><div class="comment"><a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=994516a664c2bdc728d18c47e935bc14&size=15&rating=R&d=identicon" alt="" /></a><a href="/posts/how-to-write-jquery-plugins:4f72ab2e-7310-4a74-817a-0a04cbdd56cb#comment-4f832a25-5818-4d38-9e39-097ecbdd56cb">Really nice work! I wa ..</a></div><div class="clear_left"></div><div class="comment"><a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=e57a2bc121063a81e8e6a04aa85cc54f&size=15&rating=R&d=identicon" alt="" /></a><a href="/posts/how-to-write-jquery-plugins:4f72ab2e-7310-4a74-817a-0a04cbdd56cb#comment-4f7c15ca-c7c4-48e3-a4db-27decbdd56cb">@J√∂rn: Sorry, thought  ..</a></div><div class="clear_left"></div><div class="comment"><a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=d5d83832be2b6c70d1968635f68a1b4a&size=15&rating=R&d=identicon" alt="" /></a><a href="/posts/how-to-write-jquery-plugins:4f72ab2e-7310-4a74-817a-0a04cbdd56cb#comment-4f7c11aa-6f9c-448c-abdb-2066cbdd56cb">Thanks didn&#039;t quite un ..</a></div><div class="clear_left"></div><div class="comment"><a href="http://en.gravatar.com/site/signup" class="gravatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=e57a2bc121063a81e8e6a04aa85cc54f&size=15&rating=R&d=identicon" alt="" /></a><a href="/posts/how-to-write-jquery-plugins:4f72ab2e-7310-4a74-817a-0a04cbdd56cb#comment-4f7bf934-d4e8-4885-9a2c-7a93cbdd56cb">Well you could expose  ..</a></div><div class="clear_left"></div>	</div>
	<div class="clear_left"></div>
	<h3>Keep an eye on</h3>
<ul class="links external">
	<li><a href="http://transloadit.com" title="Video encoding, image resizing and more for your web or mobile app">Transloadit</a></li><li><a href="http://tus.io" title="Resumable file uploading, upload progress bar, faster upload speed">tus - resumable file upload protocol</a></li><li><a href="http://kevin.vanzonneveld.net/">Kevin van Zonneveld</a></li><li><a href="http://www.littlehart.net/atthekeyboard/">Chris Hartjes</a></li><li><a href="http://mark-story.com">Mark Story</a></li><li><a href="http://www.webbosaurus.de">Webbosaurus</a></li></ul>
	<a href='https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Number' title='JavaScript JS Documentation: JS Number Example: Using the Number object to assign values to numeric variables, JavaScript Number Example: Using the Number object to assign values to numeric variables'><img src='http://static.jsconf.us/promotejshs.png' height='150' width='180' alt='JavaScript JS Documentation: JS Number Example: Using the Number object to assign values to numeric variables, JavaScript Number Example: Using the Number object to assign values to numeric variables'/></a>
</div>

						<div class="clear">&nbsp;</div>
		</div>

		<div id="footer">
			<div class="container_16">
				<ul id="footer_navigation">
					<ul>
<li class=""><a href="/blog">Blog</a></li><li class="active"><a href="/">About</a></li></ul>				</ul>
				<p>&copy; 2008 - 2015, Debuggable Ltd. All rights reserved.
				<i>Designed by <a href="http://www.fluidcore.net" target="_blank">fluidCORE</a>.</i>
			</div>
		</div>
	</div>
	<script type="text/javascript" src="/js/aggregate/58a4727fb2207154ddd0739cbc3b15104ad6cd03/5627ea2806458e56fb8a5f4b231a44c2.php"></script><script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-3306079-3']);
_gaq.push(['_trackPageview']);
(function() {
var ga = document.createElement('script');
ga.src = ('https:' == document.location.protocol ?
    'https://ssl' : 'http://www') +
    '.google-analytics.com/ga.js';
ga.setAttribute('async', 'true');
document.documentElement.firstChild.appendChild(ga);
})();
</script></body>
</html>
